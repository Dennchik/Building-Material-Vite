import{S as L}from"./vendors/vendor-bIBkycDJ.js";import{d as g,a as w,c as b}from"./vendors/drop-menu-BL8SW9al.js";function S(){let s=document.querySelectorAll(".swiper");if(s)for(let t=0;t<s.length;t++){let e=s[t];if(!e.classList.contains("swiper-build")){let o=e.children;if(o)for(let c=0;c<o.length;c++)o[c].classList.add("swiper-slide");let n=e.innerHTML,i=document.createElement("div");i.classList.add("swiper-wrapper"),i.innerHTML=n,e.innerHTML="",e.appendChild(i),e.classList.add("swiper-build")}}}function _(s){document.querySelectorAll(s).forEach(t=>{const e=t.matches(".swiper")?t:t.querySelector(".swiper");if(!e||e.classList.contains("swiper-initialized"))return;if(!e.querySelector(".swiper-wrapper")||!e.querySelector(".swiper-slide")){console.warn("Swiper: структура не готова для",e);return}const o=e.parentElement||t,n=o.querySelector(".navigation__next")||null,i=o.querySelector(".navigation__prev")||null;new L(e,{slidesPerView:5,speed:800,grabCursor:!0,navigation:{nextEl:n,prevEl:i},breakpoints:{0:{slidesPerView:1},540:{slidesPerView:2},786:{slidesPerView:3,spaceBetween:16},1025:{slidesPerView:4,spaceBetween:20},1289:{slidesPerView:5,spaceBetween:30}}})})}function N(s){new L(s,{effect:"slide",lazy:!0,navigation:{nextEl:".btn-next",prevEl:".btn-prev"},slidesPerView:3,speed:800,loop:!0,grabCursor:!0,centeredSlides:!1,breakpoints:{0:{slidesPerView:2,spaceBetween:10},690:{spaceBetween:20},960:{slidesPerView:3,spaceBetween:30}}})}function x(){const s=document.querySelector(".loader"),t=document.querySelector(".loader__timer"),e=performance.now();window.addEventListener("load",()=>{const n=performance.now()-e;let i=0;const c=16,m=setInterval(()=>{i+=c,i>n&&(i=n);const p=Math.floor(i/1e3),a=Math.floor(i%1e3);t.textContent=`${p}.${a.toString().padStart(3,"0")}`,i>=n&&(clearInterval(m),setTimeout(()=>{t.style.transform="scale(2)",setTimeout(()=>{t.style.transform="scale(1)",setTimeout(()=>{s.remove()},500)},300)},100))},c)})}function q(s,t,e,o,n){const i=document.querySelector(s),c=document.querySelector(`${s} span`),m=500,p=document.querySelector(o);document.addEventListener("click",function(a){const r=a.target;if(r.closest(t)&&r.closest(t).classList.contains(n)){const d=r.closest(t).querySelector(e),u=d.cloneNode(!0),f={left:i.getBoundingClientRect().right,top:i.getBoundingClientRect().top};u.style.cssText=`
        position:fixed;
        left:${d.getBoundingClientRect().left}px;
        top:${d.getBoundingClientRect().bottom}px;
        width:${d.offsetWidth}px;
        height:${d.offsetHeight}px;
        transition: all ${m}ms ease;
        z-index: 1000;
      `,document.body.append(u),setTimeout(()=>{u.style.left=`${f.left}px`,u.style.top=`${f.top}px`,u.style.width="0px",u.style.height="0px",u.style.opacity="0.5"},0),setTimeout(()=>{c.textContent=parseInt(c.textContent,10)+1,u.remove(),parseInt(c.textContent,10)>0&&(p.style.transform="scale(1)")},m)}r.closest(t)&&!r.closest(t).classList.contains(n)&&setTimeout(()=>{c.textContent=parseInt(c.textContent,10)-1}),setTimeout(()=>{parseInt(c.textContent,10)<=0&&(p.style.transform="scale(0)")})})}function E(){const s=document.querySelectorAll("[data-quantity-container]");if(!s.length)return;s.forEach(e=>{e.querySelectorAll(".quantity").forEach(o=>{const n=o.querySelector("input"),i=o.querySelector(".quantity-remove");Number(n.value)<=0?i.classList.add("_disabled"):i.classList.remove("_disabled")}),t(e),e.addEventListener("click",o=>{const n=o.target.closest(".quantity__button");if(!n)return;const i=n.closest(".quantity"),c=i.querySelector("input"),m=i.querySelector(".quantity-remove");let p=Number(c.value)||0;n.classList.contains("quantity-add")?p++:p--,p<=0?(p=0,m.classList.add("_disabled")):m.classList.remove("_disabled"),c.value=p,t(e)}),e.addEventListener("input",o=>{const n=o.target.closest(".quantity input");if(!n)return;n.value=n.value.replace(/\D/g,"");const i=n.closest(".quantity").querySelector(".quantity-remove");Number(n.value)<=0?i.classList.add("_disabled"):i.classList.remove("_disabled"),t(e)})});function t(e){const o=e.querySelectorAll(".product-card__price span");let n=0;o.forEach(c=>{const m=parseFloat(c.textContent.replace(/ /g,"").replace(",","."))||0,p=c.closest(".product-card"),a=Number(p.querySelector("input").value)||0,r=p.querySelector(".product-card__sum span");if(!r)return;const l=m*a;r.innerHTML=`${l.toLocaleString()} <i class="icon-rub"></i>`,n+=l});const i=e.querySelector(".input-total");i&&(i.innerHTML=`Итого: ${n.toLocaleString()} <i class="icon-rub"></i>`)}}function T(){let s=[],t=document.querySelectorAll("[data-da]"),e=[],o=[];if(t.length>0){let a=0;for(let r=0;r<t.length;r++){const l=t[r],d=l.getAttribute("data-da"),u=l.hasAttribute("data-da-position")?l.getAttribute("data-da-position"):"last",f=l.hasAttribute("data-da-resolution")?l.getAttribute("data-da-resolution"):768;l.setAttribute("data-da-index",a),s[a]={parent:l.parentNode,index:c(l)},e[a]={element:l,destination:document.querySelector("."+d),place:u,breakpoint:f},a++}p(e);for(let r=0;r<e.length;r++){const d=e[r].breakpoint,f=window.matchMedia(`(max-width: ${d}px)`);o.push(f),f.addEventListener("change",n)}}function n(){for(let a=0;a<e.length;a++){const r=e[a],l=r.element,d=r.destination,u=r.place,y="_dynamic_adapt_"+r.breakpoint;if(o[a].matches){if(!l.classList.contains(y)){let h=m(d)[u];u==="first"?h=m(d)[0]:u==="last"&&(h=m(d)[m(d).length]),d.insertBefore(l,d.children[h]),l.classList.add(y)}}else l.classList.contains(y)&&(i(l),l.classList.remove(y))}}n();function i(a){const r=a.getAttribute("data-da-index"),l=s[r],d=l.parent,u=l.index,f=m(d,!0)[u];d.insertBefore(a,d.children[f])}function c(a){return Array.prototype.slice.call(a.parentNode.children).indexOf(a)}function m(a,r){const l=a.children,d=[];for(let u=0;u<l.length;u++){const f=l[u];(r||f.getAttribute("data-da")==null)&&d.push(u)}return d}function p(a){a.sort(function(r,l){return r.breakpoint>l.breakpoint?-1:1}),a.sort(function(r,l){return r.place>l.place?1:-1})}}function k(s){document.querySelectorAll(s).forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("like")})})}function A(){const s=document.querySelectorAll(".burger-button"),t=document.querySelector(".header"),e=document.querySelector(".sidebar-menu");s.forEach(o=>{o.addEventListener("click",()=>{o.classList.toggle("is-active"),o.classList.contains("is-active")?(v(e),t.classList.add("with-shadow")):o.classList.contains("is-active")||(v(e),t.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{s.forEach(o=>{o.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),e.classList.remove("_open-menu"),o.classList.remove("is-active"))})})}function C(){let s=0;const t=document.querySelector(".header__top-menu");window.addEventListener("scroll",()=>{const e=window.scrollY||document.documentElement.scrollTop;e<s?t.classList.remove("active"):t.classList.add("active"),s=e<=0?0:e})}function B(){document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".content").forEach(t=>{const e=t.querySelector(".form-categories__show-more");if(e){const o=e.querySelector("span");let n=1;const i=1,c=t.querySelectorAll(".section");c.forEach((p,a)=>{a>=n&&p.classList.add("hidden")});const m=()=>{window.innerWidth>=768&&n%2===0?e.classList.add("seo-block__button--even"):e.classList.remove("seo-block__button--even")};m(),e.addEventListener("click",function(){if(n<c.length){for(let p=0;p<i;p++)n<c.length&&(c[n].classList.remove("hidden"),n++);n===c.length&&(o.textContent="Свернуть",e.classList.add("_rotate-button"))}else c.forEach((p,a)=>{a>=1&&p.classList.add("hidden")}),n=1,o.textContent="Показать еще",e.classList.remove("_rotate-button");m()})}})})}function v(s){const t=document.querySelector(".page__aside-button");s.classList.contains("_open-menu")?(s.classList.remove("_open-menu"),P(),document.body.classList.remove("no-scroll"),e(s),t&&setTimeout(()=>{t.style.opacity="1",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="all"},300)):(t&&(t.style.opacity="0",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="none"),s.style.transition="transform 0.3s ease",s.classList.add("_open-menu"),document.body.classList.add("no-scroll"),e(s));function e(o){function n(){o.style.transition="",o.removeEventListener("transitionend",n)}o.addEventListener("transitionend",n)}}function P(s){document.documentElement.style.removeProperty("--scroll-position"),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}S();document.addEventListener("DOMContentLoaded",()=>{_(".product-slide")});x();q(".favourites",".product-card__favourites",".icon-heart-like",".icon-heart-like","like");B();g(".main-menu__link");document.addEventListener("DOMContentLoaded",()=>{E(),C(),w(),b(),k(".product-card__favourites"),A(),T()});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");const M=document.querySelector(".page__header"),$=document.querySelector(".menu-float");function H(){window.addEventListener("scroll",()=>{let t=M.getBoundingClientRect(),e=$.getBoundingClientRect();t.height+e.height});function s(){}return s}H();export{N as a,S as b,_ as s};
