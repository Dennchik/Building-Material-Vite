import{b as k,s as T,d as A}from"./vendors/slide-D5TpHpes.js";import{d as C,a as $,c as M}from"./vendors/drop-menu-BQ7JRydJ.js";import"./vendors/vendor-bIBkycDJ.js";function B(){const s=document.querySelector(".loader"),n=document.querySelector(".loader__timer"),e=performance.now();s&&window.addEventListener("load",()=>{const i=performance.now()-e;let o=0;const c=16,d=setInterval(()=>{o+=c,o>i&&(o=i);const f=Math.floor(o/1e3),r=Math.floor(o%1e3);n.textContent=`${f}.${r.toString().padStart(3,"0")}`,o>=i&&(clearInterval(d),setTimeout(()=>{n.style.transform="scale(2)",setTimeout(()=>{n.style.transform="scale(1)",setTimeout(()=>{s.remove()},500)},300)},100))},c)})}function P(s,n,e,t,i){const o=document.querySelector(s),c=document.querySelector(`${s} span`),d=500,f=document.querySelector(t);o&&document.addEventListener("click",function(r){const a=r.target;if(a.closest(n)&&a.closest(n).classList.contains(i)){const l=a.closest(n).querySelector(e),u=l.cloneNode(!0),p={left:o.getBoundingClientRect().right,top:o.getBoundingClientRect().top};u.style.cssText=`
        position:fixed;
        left:${l.getBoundingClientRect().left}px;
        top:${l.getBoundingClientRect().bottom}px;
        width:${l.offsetWidth}px;
        height:${l.offsetHeight}px;
        transition: all ${d}ms ease;
        z-index: 1000;
      `,document.body.append(u),setTimeout(()=>{u.style.left=`${p.left}px`,u.style.top=`${p.top}px`,u.style.width="0px",u.style.height="0px",u.style.opacity="0.5"},0),setTimeout(()=>{c.textContent=parseInt(c.textContent,10)+1,u.remove(),parseInt(c.textContent,10)>0&&(f.style.transform="scale(1)")},d)}a.closest(n)&&!a.closest(n).classList.contains(i)&&setTimeout(()=>{c.textContent=parseInt(c.textContent,10)-1}),setTimeout(()=>{parseInt(c.textContent,10)<=0&&(f.style.transform="scale(0)")})})}function V(){const s=document.querySelectorAll("[data-quantity-container]");if(!s.length)return;s.forEach(e=>{e.querySelectorAll(".quantity").forEach(t=>{const i=t.querySelector("input"),o=t.querySelector(".quantity-remove");Number(i.value)<=0?o.classList.add("_disabled"):o.classList.remove("_disabled")}),n(e),e.addEventListener("click",t=>{const i=t.target.closest(".quantity__button");if(!i)return;const o=i.closest(".quantity"),c=o.querySelector("input"),d=o.querySelector(".quantity-remove");let f=Number(c.value)||0;i.classList.contains("quantity-add")?f++:f--,f<=0?(f=0,d.classList.add("_disabled")):d.classList.remove("_disabled"),c.value=f,n(e)}),e.addEventListener("input",t=>{const i=t.target.closest(".quantity input");if(!i)return;i.value=i.value.replace(/\D/g,"");const o=i.closest(".quantity").querySelector(".quantity-remove");Number(i.value)<=0?o.classList.add("_disabled"):o.classList.remove("_disabled"),n(e)})});function n(e){const t=e.querySelectorAll(".price-product span");let i=0;t.forEach(c=>{const d=parseFloat(c.textContent.replace(/ /g,"").replace(",","."))||0,f=c.closest(".product-card, .card-counter"),r=Number(f.querySelector("input").value)||0,a=f.querySelector(".product-sum span");if(!a)return;const m=d*r;a.innerHTML=`${m.toLocaleString()} <i class="icon-rub"></i>`,i+=m});const o=e.querySelector(".input-total");o&&(o.innerHTML=`Итого: ${i.toLocaleString()} <i class="icon-rub"></i>`)}}function O(){let s=[],n=document.querySelectorAll("[data-da]"),e=[],t=[];if(n.length>0){let r=0;for(let a=0;a<n.length;a++){const m=n[a],l=m.getAttribute("data-da"),u=m.hasAttribute("data-da-position")?m.getAttribute("data-da-position"):"last",p=m.hasAttribute("data-da-resolution")?m.getAttribute("data-da-resolution"):768;m.setAttribute("data-da-index",r),s[r]={parent:m.parentNode,index:c(m)},e[r]={element:m,destination:document.querySelector("."+l),place:u,breakpoint:p},r++}f(e);for(let a=0;a<e.length;a++){const l=e[a].breakpoint,p=window.matchMedia(`(max-width: ${l}px)`);t.push(p),p.addEventListener("change",i)}}function i(){for(let r=0;r<e.length;r++){const a=e[r],m=a.element,l=a.destination,u=a.place,h="_dynamic_adapt_"+a.breakpoint;if(t[r].matches){if(!m.classList.contains(h)){let y=d(l)[u];u==="first"?y=d(l)[0]:u==="last"&&(y=d(l)[d(l).length]),l.insertBefore(m,l.children[y]),m.classList.add(h)}}else m.classList.contains(h)&&(o(m),m.classList.remove(h))}}i();function o(r){const a=r.getAttribute("data-da-index"),m=s[a],l=m.parent,u=m.index,p=d(l,!0)[u];l.insertBefore(r,l.children[p])}function c(r){return Array.prototype.slice.call(r.parentNode.children).indexOf(r)}function d(r,a){const m=r.children,l=[];for(let u=0;u<m.length;u++){const p=m[u];(a||p.getAttribute("data-da")==null)&&l.push(u)}return l}function f(r){r.sort(function(a,m){return a.breakpoint>m.breakpoint?-1:1}),r.sort(function(a,m){return a.place>m.place?1:-1})}}function F(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("._order-form").forEach((s,n)=>{const e=s.querySelector("input.name"),t=s.querySelector("input.phone"),i=s.querySelector("input.email"),o=s.querySelector("input.password"),c=s.querySelector(".check-box__input"),d=s.querySelector(".send-button"),f=d?d.closest(".button-container"):null;console.log(`Форма ${n+1}:`,{password:o,email:i,name:e,phone:t,checkbox:c,sendButton:d,buttonContainer:f});function r(l,{maxSpread:u=12,duration:p=1e3,pulses:h=3}={}){if(!l)return;const y=l.closest(".button-container")||l.parentElement;if(!y)return;let v=null;const g=p;function b(L){v||(v=L);const S=L-v,_=Math.min(S/g,1),x=Math.abs(Math.sin(_*h*Math.PI)),q=u*x,w=getComputedStyle(document.documentElement).getPropertyValue("--alarm-color").trim();y.style.boxShadow=`0 0 ${q}px ${q/2}px ${w}`,S<g?requestAnimationFrame(b):y.style.boxShadow=""}requestAnimationFrame(b)}function a(){let l=!0;return o&&o.value.trim().length<3&&(l=!1),i&&i.value.trim().length<3&&(l=!1),e&&e.value.trim().length<3&&(l=!1),t&&t.value.trim().length!==18&&(l=!1),c&&(c.checked||(l=!1)),f&&f.classList.toggle("is-disabled",!l),d&&(d.disabled=!l),l}function m(){o&&o.value.trim().length<3&&r(o),i&&i.value.trim().length<3&&r(i),e&&e.value.trim().length<3&&r(e),t&&t.value.trim().length!==18&&r(t),c&&!c.checked&&r(c)}o&&o.addEventListener("input",a),i&&i.addEventListener("input",a),e&&e.addEventListener("input",a),t&&t.addEventListener("input",a),c&&c.addEventListener("change",a),a(),f&&f.addEventListener("click",l=>{f.classList.contains("is-disabled")&&(l.preventDefault(),console.warn(`⚠️ [Форма ${n+1}] Невалидная попытка отправки`),m())}),d&&d.addEventListener("click",()=>{if(!d.disabled&&(!f||!f.classList.contains("is-disabled"))){let l="";d&&(l=d.getAttribute("goal-name")||"");const u=new FormData;u.append("action","send_telegram_message"),t&&t.value&&u.append("phone",t.value.trim()),e&&e.value&&u.append("name",e.value.trim()),u.append("goalName",l),fetch(localizedVars.ajax_url,{method:"POST",headers:{"X-WP-Nonce":localizedVars.ajax_nonce},body:u}).then(p=>p.text()).then(p=>{alert("Ваш запрос отправлен."),console.log("Ответ сервера:",p),i&&(i.value=""),t&&(t.value=""),e&&(e.value=""),c&&(c.checked=!1),a()}).catch(p=>{console.error("Ошибка при отправке:",p),alert("Произошла ошибка при отправке данных.")})}})})})}function I(s){document.querySelectorAll(s).forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("like")})})}function N(){const s=document.querySelectorAll(".burger-button"),n=document.querySelector(".header"),e=document.querySelector(".sidebar-menu");s.forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("is-active"),t.classList.contains("is-active")?(E(e),n.classList.add("with-shadow")):t.classList.contains("is-active")||(E(e),n.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{s.forEach(t=>{t.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),e.classList.remove("_open-menu"),t.classList.remove("is-active"))})})}function D(){let s=0;const n=document.querySelector(".header__top-menu");window.addEventListener("scroll",()=>{const e=window.scrollY||document.documentElement.scrollTop;e<s?n.classList.remove("active"):n.classList.add("active"),s=e<=0?0:e})}function R(){document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".content").forEach(n=>{const e=n.querySelector(".show-more");if(e){const t=e.querySelector("span"),i=t.textContent;let o=1;const c=1,d=n.querySelectorAll(".section");d.forEach((r,a)=>{a>=o&&r.classList.add("hidden")});const f=()=>{window.innerWidth>=768&&o%2===0?e.classList.add("seo-block__button--even"):e.classList.remove("seo-block__button--even")};f(),e.addEventListener("click",function(){if(o<d.length){for(let r=0;r<c;r++)o<d.length&&(d[o].classList.remove("hidden"),o++);o===d.length&&(t.textContent="Свернуть",e.classList.add("_rotate-button"))}else d.forEach((r,a)=>{a>=1&&r.classList.add("hidden")}),o=1,t.textContent=i,e.classList.remove("_rotate-button");f()})}})})}function E(s){const n=document.querySelector(".page__aside-button");s.classList.contains("_open-menu")?(s.classList.remove("_open-menu"),j(),document.body.classList.remove("no-scroll"),e(s),n&&setTimeout(()=>{n.style.opacity="1",n.style.transition="opacity 0.3s ease",n.style.pointerEvents="all"},300)):(n&&(n.style.opacity="0",n.style.transition="opacity 0.3s ease",n.style.pointerEvents="none"),s.style.transition="transform 0.3s ease",s.classList.add("_open-menu"),document.body.classList.add("no-scroll"),e(s));function e(t){function i(){t.style.transition="",t.removeEventListener("transitionend",i)}t.addEventListener("transitionend",i)}}function W(){[{triggerSelector:".login-button",modalSelector:".page__form-login"}].forEach(({triggerSelector:n,modalSelector:e})=>{const t=document.querySelector(e),i=document.querySelectorAll(n),o=t.querySelector(".btn-close");i.forEach(c=>{c.addEventListener("click",()=>{if(Y(t),document.body.classList.add("no-scroll"),t.classList.add("is-open"),e===".questions-form"){const{showFieldset:d}=H();d(0)}})}),o.addEventListener("click",()=>{if(t.classList.remove("is-open"),document.body.classList.remove("no-scroll"),e===".questions-form"){const c=t.querySelector(".form-question__fieldset-table.active");c?(c.classList.remove("active"),console.log("Класс active удалён")):console.log("Нет активного fieldset")}})})}function H(){const s=document.querySelector(".form-question__content"),n=document.querySelectorAll(".form-question .form-question__fieldset-table");let e=0;const t=()=>{const o=s.querySelector(".form-question__fieldset-table.active");if(o){const c=o.offsetHeight;s.style.height=`${c}px`}},i=o=>{n.forEach(c=>c.classList.remove("active")),n[o].classList.add("active"),t()};return document.querySelectorAll("._btn-next").forEach(o=>{o.addEventListener("click",()=>{e<n.length-1&&(e++,i(e))})}),document.querySelectorAll("._btn-prev").forEach(o=>{o.addEventListener("click",()=>{e>0&&(e--,i(e))})}),{showFieldset:i}}function z(s,n){const e=document.querySelector(s),t=document.querySelector(n);e&&(t?(e.style.transform="translateY(110%)",t.addEventListener("click",()=>{e.style.transform="translateY(110%)",e.style.transition="transform 0.5s ease"})):console.log("кнопка не найдена"),setTimeout(()=>{e.style.transform="translateY(0)",e.style.transition="transform 0.5s ease"},3e3))}function Y(s){const n=window.innerWidth-document.documentElement.clientWidth;console.log("scrollbarWidth:",n),s&&n>0?document.body.style.paddingRight=`${n}px`:document.body.style.paddingRight="0px"}function j(s){document.documentElement.style.removeProperty("--scroll-position"),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}k();document.addEventListener("DOMContentLoaded",()=>{T(".product-slide"),A(".slide-news")});B();P(".favourites",".product-card__favourites",".icon-heart-like",".icon-heart-like","like");F();R();z(".cookies-accept",".cookies-accept__button");C(".main-menu__link");document.addEventListener("DOMContentLoaded",()=>{W(),V(),D(),$(),M(),I(".product-card__favourites"),N(),O()});document.querySelectorAll(".product-card__label").forEach(s=>{const n=s.querySelector("span");(!n||!n.textContent.trim())&&(s.style.display="none")});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");
