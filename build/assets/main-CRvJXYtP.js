function L(){const l=document.querySelector(".loader"),e=document.querySelector(".loader__timer"),t=performance.now();window.addEventListener("load",()=>{const s=performance.now()-t;let n=0;const a=16,u=setInterval(()=>{n+=a,n>s&&(n=s);const m=Math.floor(n/1e3),i=Math.floor(n%1e3);e.textContent=`${m}.${i.toString().padStart(3,"0")}`,n>=s&&(clearInterval(u),setTimeout(()=>{e.style.transform="scale(2)",setTimeout(()=>{e.style.transform="scale(1)",setTimeout(()=>{l.remove()},500)},300)},100))},a)})}function _(l,e,t,o,s){const n=document.querySelector(l),a=document.querySelector(`${l} span`),u=500,m=document.querySelector(o);document.addEventListener("click",function(i){const r=i.target;if(r.closest(e)&&r.closest(e).classList.contains(s)){const d=r.closest(e).querySelector(t),p=d.cloneNode(!0),f={left:n.getBoundingClientRect().right,top:n.getBoundingClientRect().top};p.style.cssText=`
        position:fixed;
        left:${d.getBoundingClientRect().left}px;
        top:${d.getBoundingClientRect().bottom}px;
        width:${d.offsetWidth}px;
        height:${d.offsetHeight}px;
        transition: all ${u}ms ease;
        z-index: 1000;
      `,document.body.append(p),setTimeout(()=>{p.style.left=`${f.left}px`,p.style.top=`${f.top}px`,p.style.width="0px",p.style.height="0px",p.style.opacity="0.5"},0),setTimeout(()=>{a.textContent=parseInt(a.textContent,10)+1,p.remove(),parseInt(a.textContent,10)>0&&(m.style.transform="scale(1)")},u)}r.closest(e)&&!r.closest(e).classList.contains(s)&&setTimeout(()=>{a.textContent=parseInt(a.textContent,10)-1}),setTimeout(()=>{parseInt(a.textContent,10)<=0&&(m.style.transform="scale(0)")})})}function b(){const l=document.querySelectorAll("[data-quantity-container]");if(!l.length)return;l.forEach(t=>{t.querySelectorAll(".quantity").forEach(o=>{const s=o.querySelector("input"),n=o.querySelector(".quantity-remove");Number(s.value)<=0?n.classList.add("_disabled"):n.classList.remove("_disabled")}),e(t),t.addEventListener("click",o=>{const s=o.target.closest(".quantity__button");if(!s)return;const n=s.closest(".quantity"),a=n.querySelector("input"),u=n.querySelector(".quantity-remove");let m=Number(a.value)||0;s.classList.contains("quantity-add")?m++:m--,m<=0?(m=0,u.classList.add("_disabled")):u.classList.remove("_disabled"),a.value=m,e(t)}),t.addEventListener("input",o=>{const s=o.target.closest(".quantity input");if(!s)return;s.value=s.value.replace(/\D/g,"");const n=s.closest(".quantity").querySelector(".quantity-remove");Number(s.value)<=0?n.classList.add("_disabled"):n.classList.remove("_disabled"),e(t)})});function e(t){const o=t.querySelectorAll(".product-card__price span");let s=0;o.forEach(a=>{const u=parseFloat(a.textContent.replace(/ /g,"").replace(",","."))||0,m=a.closest(".product-card"),i=Number(m.querySelector("input").value)||0,r=m.querySelector(".product-card__sum span");if(!r)return;const c=u*i;r.innerHTML=`${c.toLocaleString()} <i class="icon-rub"></i>`,s+=c});const n=t.querySelector(".input-total");n&&(n.innerHTML=`Итого: ${s.toLocaleString()} <i class="icon-rub"></i>`)}}function S(){let l=[],e=document.querySelectorAll("[data-da]"),t=[],o=[];if(e.length>0){let i=0;for(let r=0;r<e.length;r++){const c=e[r],d=c.getAttribute("data-da"),p=c.hasAttribute("data-da-position")?c.getAttribute("data-da-position"):"last",f=c.hasAttribute("data-da-resolution")?c.getAttribute("data-da-resolution"):768;c.setAttribute("data-da-index",i),l[i]={parent:c.parentNode,index:a(c)},t[i]={element:c,destination:document.querySelector("."+d),place:p,breakpoint:f},i++}m(t);for(let r=0;r<t.length;r++){const d=t[r].breakpoint,f=window.matchMedia(`(max-width: ${d}px)`);o.push(f),f.addEventListener("change",s)}}function s(){for(let i=0;i<t.length;i++){const r=t[i],c=r.element,d=r.destination,p=r.place,h="_dynamic_adapt_"+r.breakpoint;if(o[i].matches){if(!c.classList.contains(h)){let g=u(d)[p];p==="first"?g=u(d)[0]:p==="last"&&(g=u(d)[u(d).length]),d.insertBefore(c,d.children[g]),c.classList.add(h)}}else c.classList.contains(h)&&(n(c),c.classList.remove(h))}}s();function n(i){const r=i.getAttribute("data-da-index"),c=l[r],d=c.parent,p=c.index,f=u(d,!0)[p];d.insertBefore(i,d.children[f])}function a(i){return Array.prototype.slice.call(i.parentNode.children).indexOf(i)}function u(i,r){const c=i.children,d=[];for(let p=0;p<c.length;p++){const f=c[p];(r||f.getAttribute("data-da")==null)&&d.push(p)}return d}function m(i){i.sort(function(r,c){return r.breakpoint>c.breakpoint?-1:1}),i.sort(function(r,c){return r.place>c.place?1:-1})}}class y{constructor(e,t=350){if(!e)throw new Error("ItcCollapse: target element is required");this._target=e,this._duration=t}show(){const e=this._target;if(e.classList.contains("collapsing")||e.classList.contains("_show"))return;e.classList.remove("_collapse");const t=e.scrollHeight;e.style.height="0px",e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height=`${t}px`}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse","_show"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}hide(){const e=this._target;if(e.classList.contains("collapsing")||!e.classList.contains("_show"))return;const t=e.scrollHeight;e.style.height=`${t}px`,e.offsetHeight,e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.remove("_collapse","_show"),e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height="0px"}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}toggle(){this._target.classList.contains("_show")?this.hide():this.show()}static initAll(e="._collapse",t=350){const o=document.querySelectorAll(e);return Array.from(o).map(s=>new y(s,t))}}function q(){let l=0;const e=document.querySelector(".page__header");window.addEventListener("scroll",()=>{const t=window.innerWidth,o=window.pageYOffset||document.documentElement.scrollTop;let s=32;t<=690&&(s=39),t<=490&&(s=36),o>l?(e.style.top=`-${s}px`,e.classList.add("with-border")):(e.style.top="0",e.classList.remove("with-border")),l=o<=0?0:o},{passive:!0})}function w(l){document.querySelectorAll(l).forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("like")})})}function x(){const l=document.querySelectorAll(".burger-button"),e=document.querySelector(".header"),t=document.querySelector(".sidebar-menu");l.forEach(o=>{o.addEventListener("click",()=>{o.classList.toggle("is-active"),o.classList.contains("is-active")?(v(t),e.classList.add("with-shadow")):o.classList.contains("is-active")||(v(t),e.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{l.forEach(o=>{o.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),t.classList.remove("_open-menu"),o.classList.remove("is-active"))})})}function v(l){const e=document.querySelector(".page__aside-button");l.classList.contains("_open-menu")?(l.style.transition="transform 0.3s ease",l.classList.remove("_open-menu"),E(),document.body.classList.remove("no-scroll"),t(l),e&&setTimeout(()=>{e.style.opacity="1",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="all"},300)):(e&&(e.style.opacity="0",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="none"),l.style.transition="transform 0.3s ease",l.classList.add("_open-menu"),s(l),document.body.classList.add("no-scroll"),t(l));function t(n){function a(){n.style.transition="",n.removeEventListener("transitionend",a)}n.addEventListener("transitionend",a)}const o=document.querySelector(".page__header");function s(n){let a=0;a=window.scrollY||document.documentElement.scrollTop,document.documentElement.style.setProperty("--scroll-position",`${a}px`);const u=window.innerWidth-document.documentElement.clientWidth;u>0&&(document.body.style.paddingRight=`${u}px`,n&&(n.style.paddingRight=`${u}px`,o.style.paddingRight=`${u}px`))}}function E(l){document.documentElement.style.removeProperty("--scroll-position"),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}function T(){document.querySelectorAll("._slideToggle").forEach(e=>{const t=e.querySelector("._trigger");if(!t)return;const o=e.querySelector("._collapse");o&&(e._collapseInstance=new y(o),t.addEventListener("click",()=>{const s=e.closest(".parent");if(s){const n=s.querySelector("._open");n&&n!==e&&(n.classList.remove("_open"),n._collapseInstance.toggle())}e.classList.toggle("_open"),e._collapseInstance.toggle()}))})}function A(){document.querySelectorAll("._slideToggleOne").forEach(e=>{const t=e.querySelector("._trigger");if(!t)return;const o=e.querySelector("._collapse");o&&(e._collapseInstance=new y(o),t.addEventListener("click",()=>{e.classList.toggle("_open"),e._collapseInstance.toggle()}))})}function k(){document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".content").forEach(e=>{const t=e.querySelector(".form-categories__show-more");if(console.log(t),t){const o=t.querySelector("span");let s=1;const n=1,a=e.querySelectorAll(".section");a.forEach((m,i)=>{console.log(i),i>=s&&m.classList.add("hidden")});const u=()=>{window.innerWidth>=768&&s%2===0?t.classList.add("seo-block__button--even"):t.classList.remove("seo-block__button--even")};u(),t.addEventListener("click",function(){if(s<a.length){for(let m=0;m<n;m++)s<a.length&&(a[s].classList.remove("hidden"),s++);s===a.length&&(o.textContent="Свернуть",t.classList.add("_rotate-button"))}else a.forEach((m,i)=>{i>=1&&m.classList.add("hidden")}),s=1,o.textContent="Показать еще",t.classList.remove("_rotate-button");u()})}})})}L();_(".favourites",".product-card__favourites",".icon-heart-like",".icon-heart-like","like");k();document.addEventListener("DOMContentLoaded",()=>{b(),q(),T(),A(),w(".product-card__favourites"),x(),S()});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");
