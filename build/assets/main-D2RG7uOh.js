import{b as w}from"./vendors/build-swiper-Bbce2EWT.js";import{s as A,a as T}from"./vendors/slide-DsUrhm2T.js";import{I as C}from"./vendors/vendor-BrPt5w0u.js";import{a as M,c as P,d as $}from"./vendors/drop-menu-C79XH8B5.js";function B(s){const n=document.querySelectorAll(s);n.length&&n.forEach(e=>{let t=null;function a(){t=C(e,{mask:"+7 (000) 000-00-00",lazy:!0}),t.updateValue()}e.addEventListener("focus",function(){t||a(),e.value===""&&(e.value="+7 "),t.updateValue()}),e.addEventListener("blur",function(){e.value.trim()==="+7"&&(e.value="",t&&t.updateValue(""))})})}function I(){const s=document.querySelector(".loader"),n=document.querySelector(".loader__timer"),e=performance.now();s&&window.addEventListener("load",()=>{const a=performance.now()-e;let o=0;const r=16,m=setInterval(()=>{o+=r,o>a&&(o=a);const u=Math.floor(o/1e3),c=Math.floor(o%1e3);n.textContent=`${u}.${c.toString().padStart(3,"0")}`,o>=a&&(clearInterval(m),setTimeout(()=>{n.style.transform="scale(2)",setTimeout(()=>{n.style.transform="scale(1)",setTimeout(()=>{s.remove()},500)},300)},100))},r)})}function V(s,n,e,t,a){const o=document.querySelector(s),r=document.querySelector(`${s} span`),m=500,u=document.querySelector(t);o&&document.addEventListener("click",function(c){const i=c.target;if(i.closest(n)&&i.closest(n).classList.contains(a)){const l=i.closest(n).querySelector(e),f=l.cloneNode(!0),p={left:o.getBoundingClientRect().right,top:o.getBoundingClientRect().top};f.style.cssText=`
        position:fixed;
        left:${l.getBoundingClientRect().left}px;
        top:${l.getBoundingClientRect().bottom}px;
        width:${l.offsetWidth}px;
        height:${l.offsetHeight}px;
        transition: all ${m}ms ease;
        z-index: 1000;
      `,document.body.append(f),setTimeout(()=>{f.style.left=`${p.left}px`,f.style.top=`${p.top}px`,f.style.width="0px",f.style.height="0px",f.style.opacity="0.5"},0),setTimeout(()=>{r.textContent=parseInt(r.textContent,10)+1,f.remove(),parseInt(r.textContent,10)>0&&(u.style.transform="scale(1)")},m)}i.closest(n)&&!i.closest(n).classList.contains(a)&&setTimeout(()=>{r.textContent=parseInt(r.textContent,10)-1}),setTimeout(()=>{parseInt(r.textContent,10)<=0&&(u.style.transform="scale(0)")})})}function N(){const s=document.querySelectorAll("[data-quantity-container]");if(!s.length)return;s.forEach(e=>{e.querySelectorAll(".quantity").forEach(t=>{const a=t.querySelector("input"),o=t.querySelector(".quantity-remove");Number(a.value)<=0?o.classList.add("_disabled"):o.classList.remove("_disabled")}),n(e),e.addEventListener("click",t=>{const a=t.target.closest(".quantity__button");if(!a)return;const o=a.closest(".quantity"),r=o.querySelector("input"),m=o.querySelector(".quantity-remove");let u=Number(r.value)||0;a.classList.contains("quantity-add")?u++:u--,u<=0?(u=0,m.classList.add("_disabled")):m.classList.remove("_disabled"),r.value=u,n(e)}),e.addEventListener("input",t=>{const a=t.target.closest(".quantity input");if(!a)return;a.value=a.value.replace(/\D/g,"");const o=a.closest(".quantity").querySelector(".quantity-remove");Number(a.value)<=0?o.classList.add("_disabled"):o.classList.remove("_disabled"),n(e)})});function n(e){const t=e.querySelectorAll(".price-product span");let a=0;t.forEach(r=>{const m=parseFloat(r.textContent.replace(/ /g,"").replace(",","."))||0,u=r.closest(".product-card, .card-counter"),c=Number(u.querySelector("input").value)||0,i=u.querySelector(".product-sum span");if(!i)return;const d=m*c;i.innerHTML=`${d.toLocaleString()} <i class="icon-rub"></i>`,a+=d});const o=e.querySelector(".input-total");o&&(o.innerHTML=`Итого: ${a.toLocaleString()} <i class="icon-rub"></i>`)}}function O(){let s=[],n=document.querySelectorAll("[data-da]"),e=[],t=[];if(n.length>0){let c=0;for(let i=0;i<n.length;i++){const d=n[i],l=d.getAttribute("data-da"),f=d.hasAttribute("data-da-position")?d.getAttribute("data-da-position"):"last",p=d.hasAttribute("data-da-resolution")?d.getAttribute("data-da-resolution"):768;d.setAttribute("data-da-index",c),s[c]={parent:d.parentNode,index:r(d)},e[c]={element:d,destination:document.querySelector("."+l),place:f,breakpoint:p},c++}u(e);for(let i=0;i<e.length;i++){const l=e[i].breakpoint,p=window.matchMedia(`(max-width: ${l}px)`);t.push(p),p.addEventListener("change",a)}}function a(){for(let c=0;c<e.length;c++){const i=e[c],d=i.element,l=i.destination,f=i.place,h="_dynamic_adapt_"+i.breakpoint;if(t[c].matches){if(!d.classList.contains(h)){let y=m(l)[f];f==="first"?y=m(l)[0]:f==="last"&&(y=m(l)[m(l).length]),l.insertBefore(d,l.children[y]),d.classList.add(h)}}else d.classList.contains(h)&&(o(d),d.classList.remove(h))}}a();function o(c){const i=c.getAttribute("data-da-index"),d=s[i],l=d.parent,f=d.index,p=m(l,!0)[f];l.insertBefore(c,l.children[p])}function r(c){return Array.prototype.slice.call(c.parentNode.children).indexOf(c)}function m(c,i){const d=c.children,l=[];for(let f=0;f<d.length;f++){const p=d[f];(i||p.getAttribute("data-da")==null)&&l.push(f)}return l}function u(c){c.sort(function(i,d){return i.breakpoint>d.breakpoint?-1:1}),c.sort(function(i,d){return i.place>d.place?1:-1})}}function F(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("._order-form").forEach((s,n)=>{const e=s.querySelector("input.name"),t=s.querySelector("input.phone"),a=s.querySelector("input.email"),o=s.querySelector("input.password"),r=s.querySelector(".check-box__input"),m=s.querySelector(".send-button"),u=m?m.closest(".button-container"):null;console.log(`Форма ${n+1}:`,{password:o,email:a,name:e,phone:t,checkbox:r,sendButton:m,buttonContainer:u});function c(l,{maxSpread:f=12,duration:p=1e3,pulses:h=3}={}){if(!l)return;const y=l.closest(".button-container")||l.parentElement;if(!y)return;let v=null;const g=p;function b(L){v||(v=L);const S=L-v,_=Math.min(S/g,1),x=Math.abs(Math.sin(_*h*Math.PI)),q=f*x,k=getComputedStyle(document.documentElement).getPropertyValue("--alarm-color").trim();y.style.boxShadow=`0 0 ${q}px ${q/2}px ${k}`,S<g?requestAnimationFrame(b):y.style.boxShadow=""}requestAnimationFrame(b)}function i(){let l=!0;return o&&o.value.trim().length<3&&(l=!1),a&&a.value.trim().length<3&&(l=!1),e&&e.value.trim().length<3&&(l=!1),t&&t.value.trim().length!==18&&(l=!1),r&&(r.checked||(l=!1)),u&&u.classList.toggle("is-disabled",!l),m&&(m.disabled=!l),l}function d(){o&&o.value.trim().length<3&&c(o),a&&a.value.trim().length<3&&c(a),e&&e.value.trim().length<3&&c(e),t&&t.value.trim().length!==18&&c(t),r&&!r.checked&&c(r)}o&&o.addEventListener("input",i),a&&a.addEventListener("input",i),e&&e.addEventListener("input",i),t&&t.addEventListener("input",i),r&&r.addEventListener("change",i),i(),u&&u.addEventListener("click",l=>{u.classList.contains("is-disabled")&&(l.preventDefault(),console.warn(`⚠️ [Форма ${n+1}] Невалидная попытка отправки`),d())}),m&&m.addEventListener("click",()=>{if(!m.disabled&&(!u||!u.classList.contains("is-disabled"))){let l="";m&&(l=m.getAttribute("goal-name")||"");const f=new FormData;f.append("action","send_telegram_message"),t&&t.value&&f.append("phone",t.value.trim()),e&&e.value&&f.append("name",e.value.trim()),f.append("goalName",l),fetch(localizedVars.ajax_url,{method:"POST",headers:{"X-WP-Nonce":localizedVars.ajax_nonce},body:f}).then(p=>p.text()).then(p=>{alert("Ваш запрос отправлен."),console.log("Ответ сервера:",p),a&&(a.value=""),t&&(t.value=""),e&&(e.value=""),r&&(r.checked=!1),i()}).catch(p=>{console.error("Ошибка при отправке:",p),alert("Произошла ошибка при отправке данных.")})}})})})}function D(s){document.querySelectorAll(s).forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("like")})})}function H(){const s=document.querySelectorAll(".burger-button"),n=document.querySelector(".header"),e=document.querySelector(".sidebar-menu");s.forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("is-active"),t.classList.contains("is-active")?(E(e),n.classList.add("with-shadow")):t.classList.contains("is-active")||(E(e),n.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{s.forEach(t=>{t.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),e.classList.remove("_open-menu"),t.classList.remove("is-active"))})})}function E(s){const n=document.querySelector(".page__aside-button");s.classList.contains("_open-menu")?(s.classList.remove("_open-menu"),j(),document.body.classList.remove("no-scroll"),e(s),n&&setTimeout(()=>{n.style.opacity="1",n.style.transition="opacity 0.3s ease",n.style.pointerEvents="all"},300)):(n&&(n.style.opacity="0",n.style.transition="opacity 0.3s ease",n.style.pointerEvents="none"),s.style.transition="transform 0.3s ease",s.classList.add("_open-menu"),document.body.classList.add("no-scroll"),e(s));function e(t){function a(){t.style.transition="",t.removeEventListener("transitionend",a)}t.addEventListener("transitionend",a)}}function R(){let s=0;const n=document.querySelector(".header__top-menu");window.addEventListener("scroll",()=>{const e=window.scrollY||document.documentElement.scrollTop;e<s?n.classList.remove("active"):n.classList.add("active"),s=e<=0?0:e})}function W(){document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".content").forEach(n=>{const e=n.querySelector(".show-more");if(e){const t=e.querySelector("span"),a=t.textContent;let o=1;const r=1,m=n.querySelectorAll(".section");m.forEach((c,i)=>{i>=o&&c.classList.add("hidden")});const u=()=>{window.innerWidth>=768&&o%2===0?e.classList.add("seo-block__button--even"):e.classList.remove("seo-block__button--even")};u(),e.addEventListener("click",function(){if(o<m.length){for(let c=0;c<r;c++)o<m.length&&(m[o].classList.remove("hidden"),o++);o===m.length&&(t.textContent="Свернуть",e.classList.add("_rotate-button"))}else m.forEach((c,i)=>{i>=1&&c.classList.add("hidden")}),o=1,t.textContent=a,e.classList.remove("_rotate-button");u()})}})})}function z(){[{triggerSelector:".login-button",modalSelector:".page__form-login"},{triggerSelector:".phone-call",modalSelector:".page__order-call"}].forEach(({triggerSelector:n,modalSelector:e})=>{const t=document.querySelector(e),a=document.querySelectorAll(n),o=t.querySelector(".btn-close");a.forEach(r=>{r.addEventListener("click",()=>{if(Y(t),document.body.classList.add("no-scroll"),t.classList.add("is-open"),e===".questions-form"){const{showFieldset:m}=X();m(0)}})}),o.addEventListener("click",()=>{if(t.classList.remove("is-open"),document.body.classList.remove("no-scroll"),e===".questions-form"){const r=t.querySelector(".form-question__fieldset-table.active");r?(r.classList.remove("active"),console.log("Класс active удалён")):console.log("Нет активного fieldset")}})})}function Y(s){const n=window.innerWidth-document.documentElement.clientWidth;console.log("scrollbarWidth:",n),s&&n>0?document.body.style.paddingRight=`${n}px`:document.body.style.paddingRight="0px"}function j(s){document.documentElement.style.removeProperty("--scroll-position"),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}function Q(s,n){const e=document.querySelector(s),t=document.querySelector(n);e&&(t?(e.style.transform="translateY(110%)",t.addEventListener("click",()=>{e.style.transform="translateY(110%)",e.style.transition="transform 0.5s ease"})):console.log("кнопка не найдена"),setTimeout(()=>{e.style.transform="translateY(0)",e.style.transition="transform 0.5s ease"},3e3))}function X(){const s=document.querySelector(".form-question__content"),n=document.querySelectorAll(".form-question .form-question__fieldset-table");let e=0;const t=()=>{const o=s.querySelector(".form-question__fieldset-table.active");if(o){const r=o.offsetHeight;s.style.height=`${r}px`}},a=o=>{n.forEach(r=>r.classList.remove("active")),n[o].classList.add("active"),t()};return document.querySelectorAll("._btn-next").forEach(o=>{o.addEventListener("click",()=>{e<n.length-1&&(e++,a(e))})}),document.querySelectorAll("._btn-prev").forEach(o=>{o.addEventListener("click",()=>{e>0&&(e--,a(e))})}),{showFieldset:a}}function G(){document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("data-container"),n=document.getElementById("pagination-container");if(!n||n.dataset.paginationInit==="1")return;n.dataset.paginationInit="1";const e=8;let t=1;const o=(s?Array.from(s.querySelectorAll(".product-slide__slide")):Array.from(document.querySelectorAll(".product-slide__slide"))).filter(u=>!(!u||u.classList.contains("swiper-slide-duplicate")||u.classList.contains("slick-cloned")||u.classList.contains("clone")||u.textContent.trim().length===0&&u.querySelector("img")===null&&u.children.length===0));function r(u){const c=Math.max(1,Math.ceil(o.length/e));if(c<=1){o.forEach(l=>l.style.display=""),n.innerHTML="",n.style.display="none";return}else n.style.display="";t=Math.min(Math.max(1,u),c);const i=(t-1)*e,d=i+e;o.forEach((l,f)=>{l.style.display=f>=i&&f<d?"":"none"}),m(t)}function m(u){const c=Math.ceil(o.length/e);if(c<=1){n.innerHTML="",n.style.display="none";return}n.innerHTML="";for(let i=1;i<=c;i++){const d=document.createElement("button");d.type="button",d.textContent=i,d.className=i===u?"active":"",d.addEventListener("click",()=>{t=i,r(t)}),n.appendChild(d)}}r(t)})}document.addEventListener("DOMContentLoaded",()=>{A(".product-slide"),T(".slide-news"),B(".phone"),z(),N(),R(),M(),P(),D(".product-card__favourites"),H(),O()});I();V(".favourites",".product-card__favourites",".icon-heart-like",".icon-heart-like","like");w();F();W();Q(".cookies-accept",".cookies-accept__button");$(".main-menu__link");document.querySelectorAll(".product-card__label").forEach(s=>{const n=s.querySelector("span");(!n||!n.textContent.trim())&&(s.style.display="none")});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");G();
