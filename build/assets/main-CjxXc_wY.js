import{b as L,s as g,d as b,e as S,c as x}from"./vendors/drop-menu-CUSxzHS-.js";import"./vendors/vendor-bIBkycDJ.js";function q(){const o=document.querySelector(".loader"),t=document.querySelector(".loader__timer"),e=performance.now();window.addEventListener("load",()=>{const n=performance.now()-e;let l=0;const r=16,p=setInterval(()=>{l+=r,l>n&&(l=n);const m=Math.floor(l/1e3),i=Math.floor(l%1e3);t.textContent=`${m}.${i.toString().padStart(3,"0")}`,l>=n&&(clearInterval(p),setTimeout(()=>{t.style.transform="scale(2)",setTimeout(()=>{t.style.transform="scale(1)",setTimeout(()=>{o.remove()},500)},300)},100))},r)})}function _(o,t,e,a,n){const l=document.querySelector(o),r=document.querySelector(`${o} span`),p=500,m=document.querySelector(a);document.addEventListener("click",function(i){const c=i.target;if(c.closest(t)&&c.closest(t).classList.contains(n)){const d=c.closest(t).querySelector(e),u=d.cloneNode(!0),f={left:l.getBoundingClientRect().right,top:l.getBoundingClientRect().top};u.style.cssText=`
        position:fixed;
        left:${d.getBoundingClientRect().left}px;
        top:${d.getBoundingClientRect().bottom}px;
        width:${d.offsetWidth}px;
        height:${d.offsetHeight}px;
        transition: all ${p}ms ease;
        z-index: 1000;
      `,document.body.append(u),setTimeout(()=>{u.style.left=`${f.left}px`,u.style.top=`${f.top}px`,u.style.width="0px",u.style.height="0px",u.style.opacity="0.5"},0),setTimeout(()=>{r.textContent=parseInt(r.textContent,10)+1,u.remove(),parseInt(r.textContent,10)>0&&(m.style.transform="scale(1)")},p)}c.closest(t)&&!c.closest(t).classList.contains(n)&&setTimeout(()=>{r.textContent=parseInt(r.textContent,10)-1}),setTimeout(()=>{parseInt(r.textContent,10)<=0&&(m.style.transform="scale(0)")})})}function E(){const o=document.querySelectorAll("[data-quantity-container]");if(!o.length)return;o.forEach(e=>{e.querySelectorAll(".quantity").forEach(a=>{const n=a.querySelector("input"),l=a.querySelector(".quantity-remove");Number(n.value)<=0?l.classList.add("_disabled"):l.classList.remove("_disabled")}),t(e),e.addEventListener("click",a=>{const n=a.target.closest(".quantity__button");if(!n)return;const l=n.closest(".quantity"),r=l.querySelector("input"),p=l.querySelector(".quantity-remove");let m=Number(r.value)||0;n.classList.contains("quantity-add")?m++:m--,m<=0?(m=0,p.classList.add("_disabled")):p.classList.remove("_disabled"),r.value=m,t(e)}),e.addEventListener("input",a=>{const n=a.target.closest(".quantity input");if(!n)return;n.value=n.value.replace(/\D/g,"");const l=n.closest(".quantity").querySelector(".quantity-remove");Number(n.value)<=0?l.classList.add("_disabled"):l.classList.remove("_disabled"),t(e)})});function t(e){const a=e.querySelectorAll(".product-card__price span");let n=0;a.forEach(r=>{const p=parseFloat(r.textContent.replace(/ /g,"").replace(",","."))||0,m=r.closest(".product-card"),i=Number(m.querySelector("input").value)||0,c=m.querySelector(".product-card__sum span");if(!c)return;const s=p*i;c.innerHTML=`${s.toLocaleString()} <i class="icon-rub"></i>`,n+=s});const l=e.querySelector(".input-total");l&&(l.innerHTML=`Итого: ${n.toLocaleString()} <i class="icon-rub"></i>`)}}function w(){let o=[],t=document.querySelectorAll("[data-da]"),e=[],a=[];if(t.length>0){let i=0;for(let c=0;c<t.length;c++){const s=t[c],d=s.getAttribute("data-da"),u=s.hasAttribute("data-da-position")?s.getAttribute("data-da-position"):"last",f=s.hasAttribute("data-da-resolution")?s.getAttribute("data-da-resolution"):768;s.setAttribute("data-da-index",i),o[i]={parent:s.parentNode,index:r(s)},e[i]={element:s,destination:document.querySelector("."+d),place:u,breakpoint:f},i++}m(e);for(let c=0;c<e.length;c++){const d=e[c].breakpoint,f=window.matchMedia(`(max-width: ${d}px)`);a.push(f),f.addEventListener("change",n)}}function n(){for(let i=0;i<e.length;i++){const c=e[i],s=c.element,d=c.destination,u=c.place,y="_dynamic_adapt_"+c.breakpoint;if(a[i].matches){if(!s.classList.contains(y)){let h=p(d)[u];u==="first"?h=p(d)[0]:u==="last"&&(h=p(d)[p(d).length]),d.insertBefore(s,d.children[h]),s.classList.add(y)}}else s.classList.contains(y)&&(l(s),s.classList.remove(y))}}n();function l(i){const c=i.getAttribute("data-da-index"),s=o[c],d=s.parent,u=s.index,f=p(d,!0)[u];d.insertBefore(i,d.children[f])}function r(i){return Array.prototype.slice.call(i.parentNode.children).indexOf(i)}function p(i,c){const s=i.children,d=[];for(let u=0;u<s.length;u++){const f=s[u];(c||f.getAttribute("data-da")==null)&&d.push(u)}return d}function m(i){i.sort(function(c,s){return c.breakpoint>s.breakpoint?-1:1}),i.sort(function(c,s){return c.place>s.place?1:-1})}}function T(o){document.querySelectorAll(o).forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("like")})})}function k(){const o=document.querySelectorAll(".burger-button"),t=document.querySelector(".header"),e=document.querySelector(".sidebar-menu");o.forEach(a=>{a.addEventListener("click",()=>{a.classList.toggle("is-active"),a.classList.contains("is-active")?(v(e),t.classList.add("with-shadow")):a.classList.contains("is-active")||(v(e),t.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{o.forEach(a=>{a.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),e.classList.remove("_open-menu"),a.classList.remove("is-active"))})})}function A(){let o=0;const t=document.querySelector(".header__top-menu");window.addEventListener("scroll",()=>{const e=window.scrollY||document.documentElement.scrollTop;e<o?t.classList.remove("active"):t.classList.add("active"),o=e<=0?0:e})}function C(){document.addEventListener("DOMContentLoaded",function(){const o=document.querySelectorAll(".content");console.log(o),o.forEach(t=>{const e=t.querySelector(".show-more");if(e){const a=e.querySelector("span");let n=1;const l=1,r=t.querySelectorAll(".section");r.forEach((m,i)=>{i>=n&&m.classList.add("hidden")});const p=()=>{window.innerWidth>=768&&n%2===0?e.classList.add("seo-block__button--even"):e.classList.remove("seo-block__button--even")};p(),e.addEventListener("click",function(){if(n<r.length){for(let m=0;m<l;m++)n<r.length&&(r[n].classList.remove("hidden"),n++);n===r.length&&(a.textContent="Свернуть",e.classList.add("_rotate-button"))}else r.forEach((m,i)=>{i>=1&&m.classList.add("hidden")}),n=1,a.textContent="Показать еще",e.classList.remove("_rotate-button");p()})}})})}function v(o){const t=document.querySelector(".page__aside-button");o.classList.contains("_open-menu")?(o.classList.remove("_open-menu"),B(),document.body.classList.remove("no-scroll"),e(o),t&&setTimeout(()=>{t.style.opacity="1",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="all"},300)):(t&&(t.style.opacity="0",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="none"),o.style.transition="transform 0.3s ease",o.classList.add("_open-menu"),document.body.classList.add("no-scroll"),e(o));function e(a){function n(){a.style.transition="",a.removeEventListener("transitionend",n)}a.addEventListener("transitionend",n)}}function B(o){document.documentElement.style.removeProperty("--scroll-position"),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}L();document.addEventListener("DOMContentLoaded",()=>{g(".product-slide")});q();_(".favourites",".product-card__favourites",".icon-heart-like",".icon-heart-like","like");C();b(".main-menu__link");document.addEventListener("DOMContentLoaded",()=>{E(),A(),S(),x(),T(".product-card__favourites"),k(),w()});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");const $=document.querySelector(".page__header"),P=document.querySelector(".menu-float");function M(){window.addEventListener("scroll",()=>{let t=$.getBoundingClientRect(),e=P.getBoundingClientRect();t.height+e.height});function o(){}return o}M();
