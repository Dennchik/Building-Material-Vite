import{b as L,s as b,d as g}from"./vendors/slide-9d78CCTs.js";import{d as S,a as x,c as q}from"./vendors/drop-menu-DeXQRjEB.js";import"./vendors/vendor-bIBkycDJ.js";function E(){const c=document.querySelector(".loader"),e=document.querySelector(".loader__timer"),t=performance.now();window.addEventListener("load",()=>{const n=performance.now()-t;let l=0;const r=16,p=setInterval(()=>{l+=r,l>n&&(l=n);const m=Math.floor(l/1e3),s=Math.floor(l%1e3);e.textContent=`${m}.${s.toString().padStart(3,"0")}`,l>=n&&(clearInterval(p),setTimeout(()=>{e.style.transform="scale(2)",setTimeout(()=>{e.style.transform="scale(1)",setTimeout(()=>{c.remove()},500)},300)},100))},r)})}function _(c,e,t,a,n){const l=document.querySelector(c),r=document.querySelector(`${c} span`),p=500,m=document.querySelector(a);document.addEventListener("click",function(s){const i=s.target;if(i.closest(e)&&i.closest(e).classList.contains(n)){const d=i.closest(e).querySelector(t),u=d.cloneNode(!0),f={left:l.getBoundingClientRect().right,top:l.getBoundingClientRect().top};u.style.cssText=`
        position:fixed;
        left:${d.getBoundingClientRect().left}px;
        top:${d.getBoundingClientRect().bottom}px;
        width:${d.offsetWidth}px;
        height:${d.offsetHeight}px;
        transition: all ${p}ms ease;
        z-index: 1000;
      `,document.body.append(u),setTimeout(()=>{u.style.left=`${f.left}px`,u.style.top=`${f.top}px`,u.style.width="0px",u.style.height="0px",u.style.opacity="0.5"},0),setTimeout(()=>{r.textContent=parseInt(r.textContent,10)+1,u.remove(),parseInt(r.textContent,10)>0&&(m.style.transform="scale(1)")},p)}i.closest(e)&&!i.closest(e).classList.contains(n)&&setTimeout(()=>{r.textContent=parseInt(r.textContent,10)-1}),setTimeout(()=>{parseInt(r.textContent,10)<=0&&(m.style.transform="scale(0)")})})}function w(){const c=document.querySelectorAll("[data-quantity-container]");if(!c.length)return;c.forEach(t=>{t.querySelectorAll(".quantity").forEach(a=>{const n=a.querySelector("input"),l=a.querySelector(".quantity-remove");Number(n.value)<=0?l.classList.add("_disabled"):l.classList.remove("_disabled")}),e(t),t.addEventListener("click",a=>{const n=a.target.closest(".quantity__button");if(!n)return;const l=n.closest(".quantity"),r=l.querySelector("input"),p=l.querySelector(".quantity-remove");let m=Number(r.value)||0;n.classList.contains("quantity-add")?m++:m--,m<=0?(m=0,p.classList.add("_disabled")):p.classList.remove("_disabled"),r.value=m,e(t)}),t.addEventListener("input",a=>{const n=a.target.closest(".quantity input");if(!n)return;n.value=n.value.replace(/\D/g,"");const l=n.closest(".quantity").querySelector(".quantity-remove");Number(n.value)<=0?l.classList.add("_disabled"):l.classList.remove("_disabled"),e(t)})});function e(t){const a=t.querySelectorAll(".price-product span");let n=0;a.forEach(r=>{const p=parseFloat(r.textContent.replace(/ /g,"").replace(",","."))||0,m=r.closest(".product-card, .card-counter"),s=Number(m.querySelector("input").value)||0,i=m.querySelector(".product-sum span");if(!i)return;const o=p*s;i.innerHTML=`${o.toLocaleString()} <i class="icon-rub"></i>`,n+=o});const l=t.querySelector(".input-total");l&&(l.innerHTML=`Итого: ${n.toLocaleString()} <i class="icon-rub"></i>`)}}function T(){let c=[],e=document.querySelectorAll("[data-da]"),t=[],a=[];if(e.length>0){let s=0;for(let i=0;i<e.length;i++){const o=e[i],d=o.getAttribute("data-da"),u=o.hasAttribute("data-da-position")?o.getAttribute("data-da-position"):"last",f=o.hasAttribute("data-da-resolution")?o.getAttribute("data-da-resolution"):768;o.setAttribute("data-da-index",s),c[s]={parent:o.parentNode,index:r(o)},t[s]={element:o,destination:document.querySelector("."+d),place:u,breakpoint:f},s++}m(t);for(let i=0;i<t.length;i++){const d=t[i].breakpoint,f=window.matchMedia(`(max-width: ${d}px)`);a.push(f),f.addEventListener("change",n)}}function n(){for(let s=0;s<t.length;s++){const i=t[s],o=i.element,d=i.destination,u=i.place,y="_dynamic_adapt_"+i.breakpoint;if(a[s].matches){if(!o.classList.contains(y)){let v=p(d)[u];u==="first"?v=p(d)[0]:u==="last"&&(v=p(d)[p(d).length]),d.insertBefore(o,d.children[v]),o.classList.add(y)}}else o.classList.contains(y)&&(l(o),o.classList.remove(y))}}n();function l(s){const i=s.getAttribute("data-da-index"),o=c[i],d=o.parent,u=o.index,f=p(d,!0)[u];d.insertBefore(s,d.children[f])}function r(s){return Array.prototype.slice.call(s.parentNode.children).indexOf(s)}function p(s,i){const o=s.children,d=[];for(let u=0;u<o.length;u++){const f=o[u];(i||f.getAttribute("data-da")==null)&&d.push(u)}return d}function m(s){s.sort(function(i,o){return i.breakpoint>o.breakpoint?-1:1}),s.sort(function(i,o){return i.place>o.place?1:-1})}}function k(c){document.querySelectorAll(c).forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("like")})})}function A(){const c=document.querySelectorAll(".burger-button"),e=document.querySelector(".header"),t=document.querySelector(".sidebar-menu");c.forEach(a=>{a.addEventListener("click",()=>{a.classList.toggle("is-active"),a.classList.contains("is-active")?(h(t),e.classList.add("with-shadow")):a.classList.contains("is-active")||(h(t),e.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{c.forEach(a=>{a.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),t.classList.remove("_open-menu"),a.classList.remove("is-active"))})})}function C(){let c=0;const e=document.querySelector(".header__top-menu");window.addEventListener("scroll",()=>{const t=window.scrollY||document.documentElement.scrollTop;t<c?e.classList.remove("active"):e.classList.add("active"),c=t<=0?0:t})}function B(){document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".content").forEach(e=>{const t=e.querySelector(".show-more");if(t){const a=t.querySelector("span");let n=1;const l=1,r=e.querySelectorAll(".section");r.forEach((m,s)=>{s>=n&&m.classList.add("hidden")});const p=()=>{window.innerWidth>=768&&n%2===0?t.classList.add("seo-block__button--even"):t.classList.remove("seo-block__button--even")};p(),t.addEventListener("click",function(){if(n<r.length){for(let m=0;m<l;m++)n<r.length&&(r[n].classList.remove("hidden"),n++);n===r.length&&(a.textContent="Свернуть",t.classList.add("_rotate-button"))}else r.forEach((m,s)=>{s>=1&&m.classList.add("hidden")}),n=1,a.textContent="Показать еще",t.classList.remove("_rotate-button");p()})}})})}function h(c){const e=document.querySelector(".page__aside-button");c.classList.contains("_open-menu")?(c.classList.remove("_open-menu"),$(),document.body.classList.remove("no-scroll"),t(c),e&&setTimeout(()=>{e.style.opacity="1",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="all"},300)):(e&&(e.style.opacity="0",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="none"),c.style.transition="transform 0.3s ease",c.classList.add("_open-menu"),document.body.classList.add("no-scroll"),t(c));function t(a){function n(){a.style.transition="",a.removeEventListener("transitionend",n)}a.addEventListener("transitionend",n)}}function $(c){document.documentElement.style.removeProperty("--scroll-position"),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}L();document.addEventListener("DOMContentLoaded",()=>{b(".product-slide"),g(".slide-news")});E();_(".favourites",".product-card__favourites",".icon-heart-like",".icon-heart-like","like");B();S(".main-menu__link");document.addEventListener("DOMContentLoaded",()=>{w(),C(),x(),q(),k(".product-card__favourites"),A(),T()});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");
