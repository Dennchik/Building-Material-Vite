import{b as L,s as g,d as b}from"./vendors/slide-9d78CCTs.js";import{d as S,a as x,c as q}from"./vendors/drop-menu-BL8SW9al.js";import"./vendors/vendor-bIBkycDJ.js";function E(){const a=document.querySelector(".loader"),t=document.querySelector(".loader__timer"),e=performance.now();window.addEventListener("load",()=>{const n=performance.now()-e;let l=0;const r=16,p=setInterval(()=>{l+=r,l>n&&(l=n);const m=Math.floor(l/1e3),s=Math.floor(l%1e3);t.textContent=`${m}.${s.toString().padStart(3,"0")}`,l>=n&&(clearInterval(p),setTimeout(()=>{t.style.transform="scale(2)",setTimeout(()=>{t.style.transform="scale(1)",setTimeout(()=>{a.remove()},500)},300)},100))},r)})}function _(a,t,e,c,n){const l=document.querySelector(a),r=document.querySelector(`${a} span`),p=500,m=document.querySelector(c);document.addEventListener("click",function(s){const i=s.target;if(i.closest(t)&&i.closest(t).classList.contains(n)){const d=i.closest(t).querySelector(e),u=d.cloneNode(!0),f={left:l.getBoundingClientRect().right,top:l.getBoundingClientRect().top};u.style.cssText=`
        position:fixed;
        left:${d.getBoundingClientRect().left}px;
        top:${d.getBoundingClientRect().bottom}px;
        width:${d.offsetWidth}px;
        height:${d.offsetHeight}px;
        transition: all ${p}ms ease;
        z-index: 1000;
      `,document.body.append(u),setTimeout(()=>{u.style.left=`${f.left}px`,u.style.top=`${f.top}px`,u.style.width="0px",u.style.height="0px",u.style.opacity="0.5"},0),setTimeout(()=>{r.textContent=parseInt(r.textContent,10)+1,u.remove(),parseInt(r.textContent,10)>0&&(m.style.transform="scale(1)")},p)}i.closest(t)&&!i.closest(t).classList.contains(n)&&setTimeout(()=>{r.textContent=parseInt(r.textContent,10)-1}),setTimeout(()=>{parseInt(r.textContent,10)<=0&&(m.style.transform="scale(0)")})})}function w(){const a=document.querySelectorAll("[data-quantity-container]");if(!a.length)return;a.forEach(e=>{e.querySelectorAll(".quantity").forEach(c=>{const n=c.querySelector("input"),l=c.querySelector(".quantity-remove");Number(n.value)<=0?l.classList.add("_disabled"):l.classList.remove("_disabled")}),t(e),e.addEventListener("click",c=>{const n=c.target.closest(".quantity__button");if(!n)return;const l=n.closest(".quantity"),r=l.querySelector("input"),p=l.querySelector(".quantity-remove");let m=Number(r.value)||0;n.classList.contains("quantity-add")?m++:m--,m<=0?(m=0,p.classList.add("_disabled")):p.classList.remove("_disabled"),r.value=m,t(e)}),e.addEventListener("input",c=>{const n=c.target.closest(".quantity input");if(!n)return;n.value=n.value.replace(/\D/g,"");const l=n.closest(".quantity").querySelector(".quantity-remove");Number(n.value)<=0?l.classList.add("_disabled"):l.classList.remove("_disabled"),t(e)})});function t(e){const c=e.querySelectorAll(".price-product span");let n=0;c.forEach(r=>{const p=parseFloat(r.textContent.replace(/ /g,"").replace(",","."))||0,m=r.closest(".product-card, .card-counter"),s=Number(m.querySelector("input").value)||0,i=m.querySelector(".product-sum span");if(!i)return;const o=p*s;i.innerHTML=`${o.toLocaleString()} <i class="icon-rub"></i>`,n+=o});const l=e.querySelector(".input-total");l&&(l.innerHTML=`Итого: ${n.toLocaleString()} <i class="icon-rub"></i>`)}}function T(){let a=[],t=document.querySelectorAll("[data-da]"),e=[],c=[];if(t.length>0){let s=0;for(let i=0;i<t.length;i++){const o=t[i],d=o.getAttribute("data-da"),u=o.hasAttribute("data-da-position")?o.getAttribute("data-da-position"):"last",f=o.hasAttribute("data-da-resolution")?o.getAttribute("data-da-resolution"):768;o.setAttribute("data-da-index",s),a[s]={parent:o.parentNode,index:r(o)},e[s]={element:o,destination:document.querySelector("."+d),place:u,breakpoint:f},s++}m(e);for(let i=0;i<e.length;i++){const d=e[i].breakpoint,f=window.matchMedia(`(max-width: ${d}px)`);c.push(f),f.addEventListener("change",n)}}function n(){for(let s=0;s<e.length;s++){const i=e[s],o=i.element,d=i.destination,u=i.place,y="_dynamic_adapt_"+i.breakpoint;if(c[s].matches){if(!o.classList.contains(y)){let h=p(d)[u];u==="first"?h=p(d)[0]:u==="last"&&(h=p(d)[p(d).length]),d.insertBefore(o,d.children[h]),o.classList.add(y)}}else o.classList.contains(y)&&(l(o),o.classList.remove(y))}}n();function l(s){const i=s.getAttribute("data-da-index"),o=a[i],d=o.parent,u=o.index,f=p(d,!0)[u];d.insertBefore(s,d.children[f])}function r(s){return Array.prototype.slice.call(s.parentNode.children).indexOf(s)}function p(s,i){const o=s.children,d=[];for(let u=0;u<o.length;u++){const f=o[u];(i||f.getAttribute("data-da")==null)&&d.push(u)}return d}function m(s){s.sort(function(i,o){return i.breakpoint>o.breakpoint?-1:1}),s.sort(function(i,o){return i.place>o.place?1:-1})}}function k(a){document.querySelectorAll(a).forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("like")})})}function A(){const a=document.querySelectorAll(".burger-button"),t=document.querySelector(".header"),e=document.querySelector(".sidebar-menu");a.forEach(c=>{c.addEventListener("click",()=>{c.classList.toggle("is-active"),c.classList.contains("is-active")?(v(e),t.classList.add("with-shadow")):c.classList.contains("is-active")||(v(e),t.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{a.forEach(c=>{c.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),e.classList.remove("_open-menu"),c.classList.remove("is-active"))})})}function C(){let a=0;const t=document.querySelector(".header__top-menu");window.addEventListener("scroll",()=>{const e=window.scrollY||document.documentElement.scrollTop;e<a?t.classList.remove("active"):t.classList.add("active"),a=e<=0?0:e})}function B(){document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".content").forEach(t=>{const e=t.querySelector(".show-more");if(e){const c=e.querySelector("span");let n=1;const l=1,r=t.querySelectorAll(".section");r.forEach((m,s)=>{s>=n&&m.classList.add("hidden")});const p=()=>{window.innerWidth>=768&&n%2===0?e.classList.add("seo-block__button--even"):e.classList.remove("seo-block__button--even")};p(),e.addEventListener("click",function(){if(n<r.length){for(let m=0;m<l;m++)n<r.length&&(r[n].classList.remove("hidden"),n++);n===r.length&&(c.textContent="Свернуть",e.classList.add("_rotate-button"))}else r.forEach((m,s)=>{s>=1&&m.classList.add("hidden")}),n=1,c.textContent="Показать еще",e.classList.remove("_rotate-button");p()})}})})}function v(a){const t=document.querySelector(".page__aside-button");a.classList.contains("_open-menu")?(a.classList.remove("_open-menu"),$(),document.body.classList.remove("no-scroll"),e(a),t&&setTimeout(()=>{t.style.opacity="1",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="all"},300)):(t&&(t.style.opacity="0",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="none"),a.style.transition="transform 0.3s ease",a.classList.add("_open-menu"),document.body.classList.add("no-scroll"),e(a));function e(c){function n(){c.style.transition="",c.removeEventListener("transitionend",n)}c.addEventListener("transitionend",n)}}function $(a){document.documentElement.style.removeProperty("--scroll-position"),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}L();document.addEventListener("DOMContentLoaded",()=>{g(".product-slide"),b(".slide-news")});E();_(".favourites",".product-card__favourites",".icon-heart-like",".icon-heart-like","like");B();S(".main-menu__link");document.addEventListener("DOMContentLoaded",()=>{w(),C(),x(),q(),k(".product-card__favourites"),A(),T()});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");const P=document.querySelector(".page__header"),M=document.querySelector(".menu-float");function I(){window.addEventListener("scroll",()=>{let t=P.getBoundingClientRect(),e=M.getBoundingClientRect();t.height+e.height});function a(){}return a}I();
