import{b,s as L,d as g}from"./vendors/slide-D5TpHpes.js";import{d as S,a as x,c as q}from"./vendors/drop-menu-CQZpphlr.js";import"./vendors/vendor-bIBkycDJ.js";function E(){const o=document.querySelector(".loader"),e=document.querySelector(".loader__timer"),t=performance.now();o&&window.addEventListener("load",()=>{const l=performance.now()-t;let i=0;const m=16,u=setInterval(()=>{i+=m,i>l&&(i=l);const p=Math.floor(i/1e3),c=Math.floor(i%1e3);e.textContent=`${p}.${c.toString().padStart(3,"0")}`,i>=l&&(clearInterval(u),setTimeout(()=>{e.style.transform="scale(2)",setTimeout(()=>{e.style.transform="scale(1)",setTimeout(()=>{o.remove()},500)},300)},100))},m)})}function _(o,e,t,s,l){const i=document.querySelector(o),m=document.querySelector(`${o} span`),u=500,p=document.querySelector(s);i&&document.addEventListener("click",function(c){const n=c.target;if(n.closest(e)&&n.closest(e).classList.contains(l)){const r=n.closest(e).querySelector(t),d=r.cloneNode(!0),f={left:i.getBoundingClientRect().right,top:i.getBoundingClientRect().top};d.style.cssText=`
        position:fixed;
        left:${r.getBoundingClientRect().left}px;
        top:${r.getBoundingClientRect().bottom}px;
        width:${r.offsetWidth}px;
        height:${r.offsetHeight}px;
        transition: all ${u}ms ease;
        z-index: 1000;
      `,document.body.append(d),setTimeout(()=>{d.style.left=`${f.left}px`,d.style.top=`${f.top}px`,d.style.width="0px",d.style.height="0px",d.style.opacity="0.5"},0),setTimeout(()=>{m.textContent=parseInt(m.textContent,10)+1,d.remove(),parseInt(m.textContent,10)>0&&(p.style.transform="scale(1)")},u)}n.closest(e)&&!n.closest(e).classList.contains(l)&&setTimeout(()=>{m.textContent=parseInt(m.textContent,10)-1}),setTimeout(()=>{parseInt(m.textContent,10)<=0&&(p.style.transform="scale(0)")})})}function k(){const o=document.querySelectorAll("[data-quantity-container]");if(!o.length)return;o.forEach(t=>{t.querySelectorAll(".quantity").forEach(s=>{const l=s.querySelector("input"),i=s.querySelector(".quantity-remove");Number(l.value)<=0?i.classList.add("_disabled"):i.classList.remove("_disabled")}),e(t),t.addEventListener("click",s=>{const l=s.target.closest(".quantity__button");if(!l)return;const i=l.closest(".quantity"),m=i.querySelector("input"),u=i.querySelector(".quantity-remove");let p=Number(m.value)||0;l.classList.contains("quantity-add")?p++:p--,p<=0?(p=0,u.classList.add("_disabled")):u.classList.remove("_disabled"),m.value=p,e(t)}),t.addEventListener("input",s=>{const l=s.target.closest(".quantity input");if(!l)return;l.value=l.value.replace(/\D/g,"");const i=l.closest(".quantity").querySelector(".quantity-remove");Number(l.value)<=0?i.classList.add("_disabled"):i.classList.remove("_disabled"),e(t)})});function e(t){const s=t.querySelectorAll(".price-product span");let l=0;s.forEach(m=>{const u=parseFloat(m.textContent.replace(/ /g,"").replace(",","."))||0,p=m.closest(".product-card, .card-counter"),c=Number(p.querySelector("input").value)||0,n=p.querySelector(".product-sum span");if(!n)return;const a=u*c;n.innerHTML=`${a.toLocaleString()} <i class="icon-rub"></i>`,l+=a});const i=t.querySelector(".input-total");i&&(i.innerHTML=`Итого: ${l.toLocaleString()} <i class="icon-rub"></i>`)}}function T(){let o=[],e=document.querySelectorAll("[data-da]"),t=[],s=[];if(e.length>0){let c=0;for(let n=0;n<e.length;n++){const a=e[n],r=a.getAttribute("data-da"),d=a.hasAttribute("data-da-position")?a.getAttribute("data-da-position"):"last",f=a.hasAttribute("data-da-resolution")?a.getAttribute("data-da-resolution"):768;a.setAttribute("data-da-index",c),o[c]={parent:a.parentNode,index:m(a)},t[c]={element:a,destination:document.querySelector("."+r),place:d,breakpoint:f},c++}p(t);for(let n=0;n<t.length;n++){const r=t[n].breakpoint,f=window.matchMedia(`(max-width: ${r}px)`);s.push(f),f.addEventListener("change",l)}}function l(){for(let c=0;c<t.length;c++){const n=t[c],a=n.element,r=n.destination,d=n.place,y="_dynamic_adapt_"+n.breakpoint;if(s[c].matches){if(!a.classList.contains(y)){let v=u(r)[d];d==="first"?v=u(r)[0]:d==="last"&&(v=u(r)[u(r).length]),r.insertBefore(a,r.children[v]),a.classList.add(y)}}else a.classList.contains(y)&&(i(a),a.classList.remove(y))}}l();function i(c){const n=c.getAttribute("data-da-index"),a=o[n],r=a.parent,d=a.index,f=u(r,!0)[d];r.insertBefore(c,r.children[f])}function m(c){return Array.prototype.slice.call(c.parentNode.children).indexOf(c)}function u(c,n){const a=c.children,r=[];for(let d=0;d<a.length;d++){const f=a[d];(n||f.getAttribute("data-da")==null)&&r.push(d)}return r}function p(c){c.sort(function(n,a){return n.breakpoint>a.breakpoint?-1:1}),c.sort(function(n,a){return n.place>a.place?1:-1})}}function w(o){document.querySelectorAll(o).forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("like")})})}function A(){const o=document.querySelectorAll(".burger-button"),e=document.querySelector(".header"),t=document.querySelector(".sidebar-menu");o.forEach(s=>{s.addEventListener("click",()=>{s.classList.toggle("is-active"),s.classList.contains("is-active")?(h(t),e.classList.add("with-shadow")):s.classList.contains("is-active")||(h(t),e.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{o.forEach(s=>{s.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),t.classList.remove("_open-menu"),s.classList.remove("is-active"))})})}function C(){let o=0;const e=document.querySelector(".header__top-menu");window.addEventListener("scroll",()=>{const t=window.scrollY||document.documentElement.scrollTop;t<o?e.classList.remove("active"):e.classList.add("active"),o=t<=0?0:t})}function B(){document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".content").forEach(e=>{const t=e.querySelector(".show-more");if(t){const s=t.querySelector("span"),l=s.textContent;let i=1;const m=1,u=e.querySelectorAll(".section");u.forEach((c,n)=>{n>=i&&c.classList.add("hidden")});const p=()=>{window.innerWidth>=768&&i%2===0?t.classList.add("seo-block__button--even"):t.classList.remove("seo-block__button--even")};p(),t.addEventListener("click",function(){if(i<u.length){for(let c=0;c<m;c++)i<u.length&&(u[i].classList.remove("hidden"),i++);i===u.length&&(s.textContent="Свернуть",t.classList.add("_rotate-button"))}else u.forEach((c,n)=>{n>=1&&c.classList.add("hidden")}),i=1,s.textContent=l,t.classList.remove("_rotate-button");p()})}})})}function h(o){const e=document.querySelector(".page__aside-button");o.classList.contains("_open-menu")?(o.classList.remove("_open-menu"),P(),document.body.classList.remove("no-scroll"),t(o),e&&setTimeout(()=>{e.style.opacity="1",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="all"},300)):(e&&(e.style.opacity="0",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="none"),o.style.transition="transform 0.3s ease",o.classList.add("_open-menu"),document.body.classList.add("no-scroll"),t(o));function t(s){function l(){s.style.transition="",s.removeEventListener("transitionend",l)}s.addEventListener("transitionend",l)}}function $(o,e){const t=document.querySelector(o),s=document.querySelector(e);t&&(s?s.addEventListener("click",()=>{t.style.transform="translateY(100%)",t.style.transition="transform 0.5s ease"}):console.log("кнопка не найдена"),setTimeout(()=>{t.style.transform="translateY(0)",t.style.transition="transform 0.5s ease"},3e3))}function P(o){document.documentElement.style.removeProperty("--scroll-position"),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}b();document.addEventListener("DOMContentLoaded",()=>{L(".product-slide"),g(".slide-news")});E();_(".favourites",".product-card__favourites",".icon-heart-like",".icon-heart-like","like");B();$(".cookies-accept",".cookies-accept__button");S(".main-menu__link");document.addEventListener("DOMContentLoaded",()=>{k(),C(),x(),q(),w(".product-card__favourites"),A(),T()});document.querySelectorAll(".product-card__label").forEach(o=>{const e=o.querySelector("span");(!e||!e.textContent.trim())&&(o.style.display="none")});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");
