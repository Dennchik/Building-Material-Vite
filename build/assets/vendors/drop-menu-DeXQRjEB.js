class r{constructor(e,t=350){if(!e)throw new Error("ItcCollapse: target element is required");this._target=e,this._duration=t}show(){const e=this._target;if(e.classList.contains("collapsing")||e.classList.contains("_show"))return;e.classList.remove("_collapse");const t=e.scrollHeight;e.style.height="0px",e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height=`${t}px`}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse","_show"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}hide(){const e=this._target;if(e.classList.contains("collapsing")||!e.classList.contains("_show"))return;const t=e.scrollHeight;e.style.height=`${t}px`,e.offsetHeight,e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.remove("_collapse","_show"),e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height="0px"}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}toggle(){this._target.classList.contains("_show")?this.hide():this.show()}static initAll(e="._collapse",t=350){const s=document.querySelectorAll(e);return Array.from(s).map(l=>new r(l,t))}}function m(g){const e=document.querySelector(".page__dropdown-menu"),t=e.querySelector("._collapse"),s=document.querySelectorAll(".dropdown-menu__button"),l=document.querySelector(".page__header"),c=document.querySelector(".menu-float"),p=document.querySelector(g),i=e.querySelectorAll(".dropdown-menu__tab");if(document.querySelector(".dropdown-menu__tab"),document.querySelector(".dropdown-menu__buttons"),!e||!t||!l||!p)return;e._collapseInstance=new r(t),s.length>0&&(s[0].classList.add("active"),i.length>0&&i[0].classList.add("active"));let h=0,d=0,_=!1;document.addEventListener("DOMContentLoaded",()=>{function n(){const o=c?.getBoundingClientRect().height||0;d=l.getBoundingClientRect().height,h=d+o}function u(){e.style.height=`calc(100vh - ${h}px)`,e.style.top=`${d}px`}n();function a(){function o(){y()}return o}let f=a();["scroll","resize","click"].forEach(o=>{window.addEventListener(o,()=>{n(),_&&u()})}),f();function y(){p.addEventListener("click",()=>{const o=!e.classList.contains("open");n(),document.body.classList.toggle("no-scroll",o),e.classList.toggle("open",o),e._collapseInstance.toggle(),e.style.height=o?`calc(100vh - ${h}px)`:"0px",e.style.top=`${d}px`,_=o})}}),s.forEach((n,u)=>{n.addEventListener("click",()=>{n.classList.contains("active")||(s.forEach(a=>a.classList.remove("active")),i.forEach(a=>a.classList.remove("active")),n.classList.add("active"),i[u]&&i[u].classList.add("active"))})})}function L(){document.querySelectorAll("._slideToggle").forEach(e=>{const t=e.querySelector("._trigger");if(!t)return;const s=e.querySelector("._collapse");s&&(e._collapseInstance=new r(s),t.addEventListener("click",()=>{const l=e.closest(".parent");if(l){const c=l.querySelector("._open");c&&c!==e&&(c.classList.remove("_open"),c._collapseInstance.toggle())}e.classList.toggle("_open"),e._collapseInstance.toggle()}))})}function v(){document.querySelectorAll("._slideToggleOne").forEach(e=>{const t=e.querySelector("._trigger");if(!t)return;const s=e.querySelector("._collapse");s&&(e._collapseInstance=new r(s),t.addEventListener("click",()=>{e.classList.toggle("_open"),e._collapseInstance.toggle()}))})}export{L as a,v as c,m as d};
