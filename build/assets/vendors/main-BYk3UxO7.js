import{S as L}from"./vendor-D4OJgAiR.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function w(){const i=document.querySelector(".loader"),e=document.querySelector(".loader__timer"),t=performance.now();window.addEventListener("load",()=>{const s=performance.now()-t;let o=0;const c=16,p=setInterval(()=>{o+=c,o>s&&(o=s);const f=Math.floor(o/1e3),a=Math.floor(o%1e3);e.textContent=`${f}.${a.toString().padStart(3,"0")}`,o>=s&&(clearInterval(p),setTimeout(()=>{e.style.transform="scale(2)",setTimeout(()=>{e.style.transform="scale(1)",setTimeout(()=>{i.remove()},500)},300)},100))},c)})}function _(){let i=document.querySelectorAll(".swiper");if(i)for(let e=0;e<i.length;e++){let t=i[e];if(!t.classList.contains("swiper-build")){let n=t.children;if(n)for(let c=0;c<n.length;c++)n[c].classList.add("swiper-slide");let s=t.innerHTML,o=document.createElement("div");o.classList.add("swiper-wrapper"),o.innerHTML=s,t.innerHTML="",t.appendChild(o),t.classList.add("swiper-build")}}}function b(i,e,t,n,s){const o=document.querySelector(i),c=document.querySelector(`${i} span`),p=500,f=document.querySelector(n);document.addEventListener("click",function(a){const r=a.target;if(r.closest(e)&&r.closest(e).classList.contains(s)){const d=r.closest(e).querySelector(t),u=d.cloneNode(!0),m={left:o.getBoundingClientRect().right,top:o.getBoundingClientRect().top};u.style.cssText=`
        position:fixed;
        left:${d.getBoundingClientRect().left}px;
        top:${d.getBoundingClientRect().bottom}px;
        width:${d.offsetWidth}px;
        height:${d.offsetHeight}px;
        transition: all ${p}ms ease;
        z-index: 1000;
      `,document.body.append(u),setTimeout(()=>{u.style.left=`${m.left}px`,u.style.top=`${m.top}px`,u.style.width="0px",u.style.height="0px",u.style.opacity="0.5"},0),setTimeout(()=>{c.textContent=parseInt(c.textContent,10)+1,u.remove(),parseInt(c.textContent,10)>0&&(f.style.transform="scale(1)")},p)}r.closest(e)&&!r.closest(e).classList.contains(s)&&setTimeout(()=>{c.textContent=parseInt(c.textContent,10)-1}),setTimeout(()=>{parseInt(c.textContent,10)<=0&&(f.style.transform="scale(0)")})})}function x(){const i=document.querySelectorAll("[data-quantity-container]");if(!i.length)return;i.forEach(t=>{t.querySelectorAll(".quantity").forEach(n=>{const s=n.querySelector("input"),o=n.querySelector(".quantity-remove");Number(s.value)<=0?o.classList.add("_disabled"):o.classList.remove("_disabled")}),e(t),t.addEventListener("click",n=>{const s=n.target.closest(".quantity__button");if(!s)return;const o=s.closest(".quantity"),c=o.querySelector("input"),p=o.querySelector(".quantity-remove");let f=Number(c.value)||0;s.classList.contains("quantity-add")?f++:f--,f<=0?(f=0,p.classList.add("_disabled")):p.classList.remove("_disabled"),c.value=f,e(t)}),t.addEventListener("input",n=>{const s=n.target.closest(".quantity input");if(!s)return;s.value=s.value.replace(/\D/g,"");const o=s.closest(".quantity").querySelector(".quantity-remove");Number(s.value)<=0?o.classList.add("_disabled"):o.classList.remove("_disabled"),e(t)})});function e(t){const n=t.querySelectorAll(".product-card__price span");let s=0;n.forEach(c=>{const p=parseFloat(c.textContent.replace(/ /g,"").replace(",","."))||0,f=c.closest(".product-card"),a=Number(f.querySelector("input").value)||0,r=f.querySelector(".product-card__sum span");if(!r)return;const l=p*a;r.innerHTML=`${l.toLocaleString()} <i class="icon-rub"></i>`,s+=l});const o=t.querySelector(".input-total");o&&(o.innerHTML=`Итого: ${s.toLocaleString()} <i class="icon-rub"></i>`)}}function S(i){document.querySelectorAll(i).forEach(e=>{if(e.classList.contains("swiper-initialized"))return;const t=e.parentElement,n=t.querySelector(".navigation__next"),s=t.querySelector(".navigation__prev");new L(e,{slidesPerView:5,speed:800,grabCursor:!0,navigation:{nextEl:n,prevEl:s},breakpoints:{0:{slidesPerView:1},540:{slidesPerView:2},786:{slidesPerView:3,spaceBetween:16},1025:{slidesPerView:4,spaceBetween:20},1289:{slidesPerView:5,spaceBetween:30}}})})}function q(i){new L(i,{effect:"slide",lazy:!0,navigation:{nextEl:".btn-next",prevEl:".btn-prev"},slidesPerView:3,speed:800,loop:!0,grabCursor:!0,centeredSlides:!1,breakpoints:{0:{slidesPerView:2,spaceBetween:10},690:{spaceBetween:20},960:{slidesPerView:3,spaceBetween:30}}})}function E(){let i=[],e=document.querySelectorAll("[data-da]"),t=[],n=[];if(e.length>0){let a=0;for(let r=0;r<e.length;r++){const l=e[r],d=l.getAttribute("data-da"),u=l.hasAttribute("data-da-position")?l.getAttribute("data-da-position"):"last",m=l.hasAttribute("data-da-resolution")?l.getAttribute("data-da-resolution"):768;l.setAttribute("data-da-index",a),i[a]={parent:l.parentNode,index:c(l)},t[a]={element:l,destination:document.querySelector("."+d),place:u,breakpoint:m},a++}f(t);for(let r=0;r<t.length;r++){const d=t[r].breakpoint,m=window.matchMedia(`(max-width: ${d}px)`);n.push(m),m.addEventListener("change",s)}}function s(){for(let a=0;a<t.length;a++){const r=t[a],l=r.element,d=r.destination,u=r.place,h="_dynamic_adapt_"+r.breakpoint;if(n[a].matches){if(!l.classList.contains(h)){let y=p(d)[u];u==="first"?y=p(d)[0]:u==="last"&&(y=p(d)[p(d).length]),d.insertBefore(l,d.children[y]),l.classList.add(h)}}else l.classList.contains(h)&&(o(l),l.classList.remove(h))}}s();function o(a){const r=a.getAttribute("data-da-index"),l=i[r],d=l.parent,u=l.index,m=p(d,!0)[u];d.insertBefore(a,d.children[m])}function c(a){return Array.prototype.slice.call(a.parentNode.children).indexOf(a)}function p(a,r){const l=a.children,d=[];for(let u=0;u<l.length;u++){const m=l[u];(r||m.getAttribute("data-da")==null)&&d.push(u)}return d}function f(a){a.sort(function(r,l){return r.breakpoint>l.breakpoint?-1:1}),a.sort(function(r,l){return r.place>l.place?1:-1})}}class g{constructor(e,t=350){if(!e)throw new Error("ItcCollapse: target element is required");this._target=e,this._duration=t}show(){const e=this._target;if(e.classList.contains("collapsing")||e.classList.contains("_show"))return;e.classList.remove("_collapse");const t=e.scrollHeight;e.style.height="0px",e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height=`${t}px`}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse","_show"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}hide(){const e=this._target;if(e.classList.contains("collapsing")||!e.classList.contains("_show"))return;const t=e.scrollHeight;e.style.height=`${t}px`,e.offsetHeight,e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.remove("_collapse","_show"),e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height="0px"}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}toggle(){this._target.classList.contains("_show")?this.hide():this.show()}static initAll(e="._collapse",t=350){const n=document.querySelectorAll(e);return Array.from(n).map(s=>new g(s,t))}}function T(){let i=0;const e=document.querySelector(".page__header");window.addEventListener("scroll",()=>{const t=window.innerWidth,n=window.pageYOffset||document.documentElement.scrollTop;let s=32;t<=690&&(s=39),t<=490&&(s=36),n>i?(e.style.top=`-${s}px`,e.classList.add("with-border")):(e.style.top="0",e.classList.remove("with-border")),i=n<=0?0:n},{passive:!0})}function A(i){document.querySelectorAll(i).forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("like")})})}function P(){const i=document.querySelectorAll(".burger-button"),e=document.querySelector(".header"),t=document.querySelector(".sidebar-menu");i.forEach(n=>{n.addEventListener("click",()=>{n.classList.toggle("is-active"),n.classList.contains("is-active")?(v(t),e.classList.add("with-shadow")):n.classList.contains("is-active")||(v(t),e.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{i.forEach(n=>{n.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),t.classList.remove("_open-menu"),n.classList.remove("is-active"))})})}function v(i){const e=document.querySelector(".page__aside-button");i.classList.contains("_open-menu")?(i.style.transition="transform 0.3s ease",i.classList.remove("_open-menu"),document.body.classList.remove("no-scroll"),t(i),e&&setTimeout(()=>{e.style.opacity="1",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="all"},300)):(e&&(e.style.opacity="0",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="none"),i.style.transition="transform 0.3s ease",i.classList.add("_open-menu"),document.body.classList.add("no-scroll"),t(i));function t(n){function s(){n.style.transition="",n.removeEventListener("transitionend",s)}n.addEventListener("transitionend",s)}}function k(){document.querySelectorAll("._slideToggle").forEach(e=>{const t=e.querySelector("._trigger");if(!t)return;const n=e.querySelector("._collapse");n&&(e._collapseInstance=new g(n),t.addEventListener("click",()=>{const s=e.closest(".parent");if(s){const o=s.querySelector("._open");o&&o!==e&&(o.classList.remove("_open"),o._collapseInstance.toggle())}e.classList.toggle("_open"),e._collapseInstance.toggle()}))})}w();_();b(".favourites",".product-card__favourites",".icon-heart-like",".icon-heart-like","like");S(".product-slide");q(".slide-news");document.addEventListener("DOMContentLoaded",()=>{x(),T(),k(),A(".product-card__favourites"),P(),E()});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");
