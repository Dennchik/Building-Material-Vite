class r{constructor(e,t=350){if(!e)throw new Error("ItcCollapse: target element is required");this._target=e,this._duration=t}show(){const e=this._target;if(e.classList.contains("collapsing")||e.classList.contains("_show"))return;e.classList.remove("_collapse");const t=e.scrollHeight;e.style.height="0px",e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height=`${t}px`}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse","_show"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}hide(){const e=this._target;if(e.classList.contains("collapsing")||!e.classList.contains("_show"))return;const t=e.scrollHeight;e.style.height=`${t}px`,e.offsetHeight,e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.remove("_collapse","_show"),e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height="0px"}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}toggle(){this._target.classList.contains("_show")?this.hide():this.show()}static initAll(e="._collapse",t=350){const s=document.querySelectorAll(e);return Array.from(s).map(l=>new r(l,t))}}function L(g){const e=document.querySelector(".page__dropdown-menu");if(!e)return;const t=e.querySelector("._collapse"),s=document.querySelectorAll(".dropdown-menu__button"),l=document.querySelector(".page__header"),d=document.querySelector(".menu-float"),n=document.querySelector(g),i=e.querySelectorAll(".dropdown-menu__tab");if(!t||!l||!n||!t)return;e._collapseInstance=new r(t),s.length>0&&(s[0].classList.add("active"),i.length>0&&i[0].classList.add("active"));let p=0,u=0,_=!1;document.addEventListener("DOMContentLoaded",()=>{function c(){const o=d?.getBoundingClientRect().height||0;u=l.getBoundingClientRect().height,p=u+o}function h(){e.style.height=`calc(100vh - ${p}px)`,e.style.top=`${u}px`}c();function a(){function o(){y()}return o}let f=a();["scroll","resize","click"].forEach(o=>{window.addEventListener(o,()=>{c(),_&&h()})}),f();function y(){n.addEventListener("click",()=>{const o=!e.classList.contains("open");c(),document.body.classList.toggle("no-scroll",o),e.classList.toggle("open",o),e._collapseInstance.toggle(),e.style.height=o?`calc(100vh - ${p}px)`:"0px",e.style.top=`${u}px`,_=o})}}),s.forEach((c,h)=>{c.addEventListener("click",()=>{c.classList.contains("active")||(s.forEach(a=>a.classList.remove("active")),i.forEach(a=>a.classList.remove("active")),c.classList.add("active"),i[h]&&i[h].classList.add("active"))})})}function v(){const g=document.querySelectorAll("._slideToggle"),e=document.querySelector(".widget__icon");g.forEach(t=>{const s=t.querySelector("._trigger");if(!s)return;const l=t.querySelector("._collapse");l&&(t._collapseInstance=new r(l),s.addEventListener("click",()=>{const d=t.closest(".parent");if(d){const n=d.querySelector("._open");n&&n!==t&&(n.classList.remove("_open"),n._collapseInstance.toggle())}t.classList.toggle("_open"),t._collapseInstance.toggle()}),e&&e.addEventListener("click",()=>{t._collapseInstance.toggle()}))})}function m(){document.querySelectorAll("._slideToggleOne").forEach(e=>{const t=e.querySelector("._trigger");if(!t)return;const s=e.querySelector("._collapse");s&&(e._collapseInstance=new r(s),t.addEventListener("click",()=>{e.classList.toggle("_open"),e._collapseInstance.toggle()}))})}export{r as I,v as a,m as c,L as d};
