class r{constructor(e,t=350){if(!e)throw new Error("ItcCollapse: target element is required");this._target=e,this._duration=t}show(){const e=this._target;if(e.classList.contains("collapsing")||e.classList.contains("_show"))return;e.classList.remove("_collapse");const t=e.scrollHeight;e.style.height="0px",e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height=`${t}px`}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse","_show"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}hide(){const e=this._target;if(e.classList.contains("collapsing")||!e.classList.contains("_show"))return;const t=e.scrollHeight;e.style.height=`${t}px`,e.offsetHeight,e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.remove("_collapse","_show"),e.classList.add("collapsing"),requestAnimationFrame(()=>{e.style.height="0px"}),setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}toggle(){this._target.classList.contains("_show")?this.hide():this.show()}static initAll(e="._collapse",t=350){const s=document.querySelectorAll(e);return Array.from(s).map(l=>new r(l,t))}}function L(h){const e=document.querySelector(".page__dropdown-menu"),t=e.querySelector("._collapse"),s=document.querySelectorAll(".dropdown-menu__button"),l=document.querySelector(".page__header"),c=document.querySelector(".menu-float"),p=document.querySelector(h),i=e.querySelectorAll(".dropdown-menu__tab");if(!e||!t||!l||!p)return;e._collapseInstance=new r(t),s.length>0&&(s[0].classList.add("active"),i.length>0&&i[0].classList.add("active"));let u=0,g=0,_=!1;document.addEventListener("DOMContentLoaded",()=>{function n(){const o=c?.getBoundingClientRect().height||0;g=l.getBoundingClientRect().height,u=g+o}function d(){e.style.height=`calc(100vh + 1px - ${u}px)`,e.style.top=`${g}px`}n();function a(){function o(){y()}return o}let f=a();["scroll","resize"].forEach(o=>{window.addEventListener(o,()=>{n(),_&&d()})}),f();function y(){p.addEventListener("click",()=>{const o=!e.classList.contains("open");n(),document.body.classList.toggle("no-scroll",o),e.classList.toggle("open",o),e._collapseInstance.toggle(),e.style.height=o?`calc(100vh + 1px - ${u}px)`:"0px",e.style.top=`${g}px`,_=o})}}),s.forEach((n,d)=>{n.addEventListener("click",()=>{n.classList.contains("active")||(s.forEach(a=>a.classList.remove("active")),i.forEach(a=>a.classList.remove("active")),n.classList.add("active"),i[d]&&i[d].classList.add("active"))})})}function m(){document.querySelectorAll("._slideToggle").forEach(e=>{const t=e.querySelector("._trigger");if(!t)return;const s=e.querySelector("._collapse");s&&(e._collapseInstance=new r(s),t.addEventListener("click",()=>{const l=e.closest(".parent");if(l){const c=l.querySelector("._open");c&&c!==e&&(c.classList.remove("_open"),c._collapseInstance.toggle())}e.classList.toggle("_open"),e._collapseInstance.toggle()}))})}function v(){document.querySelectorAll("._slideToggleOne").forEach(e=>{const t=e.querySelector("._trigger");if(!t)return;const s=e.querySelector("._collapse");s&&(e._collapseInstance=new r(s),t.addEventListener("click",()=>{e.classList.toggle("_open"),e._collapseInstance.toggle()}))})}export{m as a,v as c,L as d};
