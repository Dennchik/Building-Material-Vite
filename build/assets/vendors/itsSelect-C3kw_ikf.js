import{I as p}from"./drop-menu-DQMOothh.js";function b(){document.querySelectorAll("[data-select]").forEach(function(a){const u=a.querySelectorAll(".select");u&&u.forEach(l=>{const o=l.querySelectorAll(".select__list-item"),n=l.querySelector(".select__button");let s=o.length>0?o[0]:null;l.addEventListener("click",function(e){let t=e.target;if(t.closest(".select__button")){const c=document.querySelector("._active-collapse");i(l),t.closest(".select__box-button")&&(s=t.closest(".select__box-button").nextElementSibling.querySelector("._selected")),t.closest(".select").classList.contains("_active-collapse")||n.blur(),c&&c!==l&&i(c)}}),o.length!==0&&[].forEach.call(o,function(e){e.addEventListener("click",function(t){s=this,s.focus(),n.value=e.textContent;const c=l.querySelector("._selected");_(e),c&&c!==e&&_(c),f()})}),a.addEventListener("keydown",function(e){if(e=e||window.e,e.preventDefault(),e.target,e.key=="ArrowUp"){let t=s.previousElementSibling;d(t)}else if(e.key=="ArrowDown"){let t=s.nextElementSibling;d(t)}else e.key=="Enter"&&(f(),r())});function d(e){e!==null&&(s.focus(),s.classList.remove("_selected"),e.focus(),e.classList.add("_selected"),s=e)}const i=e=>{const t=new p(e.closest(".select").querySelector("._collapse"));e.classList.contains("_active-collapse")?(e.classList.remove("_active-collapse"),t.toggle()):(e.classList.add("_active-collapse"),t.toggle())};document.addEventListener("keydown",function(e){(e.key==="Tab"||e.key==="Escape")&&(n.blur(),r())}),document.addEventListener("click",function(e){const t=e.target.classList;switch(!0){case t.contains("select__button"):break;case t.contains("select__list-item"):break;default:r();break}});function r(){document.querySelectorAll(".select").forEach(t=>{t.classList.contains("_active-collapse")&&i(t)})}function f(){let e=a.getElementsByClassName("select__button");for(let t=0;t<e.length;t++)e[t].value=s?s.textContent:"",n.blur()}const _=e=>{const t=new p(e.closest("._collapse"));e.classList.contains("_selected")?(e.classList.remove("_selected"),t.toggle(),e.closest(".select").classList.remove("_active-collapse")):e.classList.add("_selected")}})})}export{b as s};
